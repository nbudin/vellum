# Logfile created on Tue Jun 03 14:06:21 -0400 2008Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000340)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.012260)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.000351)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextValue Columns (0.000598)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.000654)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mAttr Load (0.001500)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name IS NULL AND attrs.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.000228)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.000266)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000226)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES(NULL, NULL, 2, 1, 1, NULL)[0m
  [4;35;1mStructureTemplate Update (0.000246)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = NULL WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Load (0.000239)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.000735)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.000307)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mSQL (0.000348)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000339)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000044)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000044)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000048)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000199)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.000200)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.000098)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.000072)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000068)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000273)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.000334)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000468)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000114)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000317)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000242)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mStructure Create (0.000165)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mRelationshipType Load (0.000090)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mRelationship Create (0.000157)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000104)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.000246)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.000083)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Create (0.000172)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.000317)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Create (0.000215)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.000125)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mStructureTemplate Update (0.000163)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = 'Vegetable' WHERE `id` = 4[0m
  [4;36;1mStructureTemplate Load (0.000203)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.000143)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.000157)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.000149)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.000309)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000071)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000213)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000080)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000139)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mAttr Load (0.000356)[0m   [0mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
  [4;36;1mAttr Load (0.000326)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) AND (`attrs`.`name` = 'Name') ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mAttrValueMetadata Load (0.000334)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.000221)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Create (0.000522)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Load (0.000157)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000297)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000182)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.000274)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.000219)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Update (0.000230)[0m   [0mUPDATE `attr_value_metadatas` SET `value_id` = 1, `structure_id` = 3, `attr_id` = 1, `value_type` = 'TextValue' WHERE `id` = 3[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.000299)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000170)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Load (0.000230)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.value_id = 1 AND attr_value_metadatas.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Load (0.000278)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3 AND attr_value_metadatas.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.000997)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.000233)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000130)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.000064)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.000207)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mStructure Load (0.000147)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.000219)[0m   [0;1mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.000192)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;36;1mTextValue Load (0.000122)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.000378)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000258)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mAttr Load (0.000215)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.000150)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mStructure Create (0.000122)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mRelationshipType Load (0.000100)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Create (0.000146)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mStructure Load (0.000157)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000115)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.000143)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.left_id = 4) [0m
  [4;36;1mRelationship Load (0.000120)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.000067)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.000130)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.left_id = 5) [0m
  [4;35;1mRelationship Load (0.000119)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.000065)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.000124)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000117)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.000114)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.000281)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000216)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000073)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000331)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000513)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000066)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000228)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:06:24) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000151)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000075)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:06:24) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000142)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000129)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000353)[0m   [0mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;36;1mSQL (0.000125)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;36;1mSQL (0.000085)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000134)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000145)[0m   [0mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:06:24) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000183)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:06:24) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000240)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:06:24', NULL, 1, NULL, NULL, '2008-06-03 14:06:24')[0m
  [4;36;1mDocument::Version Columns (0.000822)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000247)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:06:24', 3, NULL, 1, NULL, NULL, '2008-06-03 14:06:24')[0m
  [4;36;1mSQL (0.000298)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000171)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:06:24) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000586)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000141)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000138)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.010028)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000142)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000303)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.002398)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000087)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000272)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000130)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:06:24) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000120)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000145)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:06:25) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.001004)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000262)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000294)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:06:24', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:06:25', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000257)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:06:25', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:06:24')[0m
  [4;35;1mSQL (0.001690)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000401)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:06:25) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.02037)
Rendered auth/_mini_auth_form (0.00310)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71c4744 @filter=#<Proc:0xb76d772c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.05329 (18 reqs/sec) | Rendering: 0.02942 (55%) | DB: 0.00469 (8%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000136)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000142)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000071)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:06:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000273)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00197)
Rendered auth/_mini_auth_form (0.00111)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71c4b90 @filter=#<Proc:0xb76d4e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00802 (124 reqs/sec) | Rendering: 0.00566 (70%) | DB: 0.00067 (8%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000198)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000145)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000147)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00194)
Rendered auth/_mini_auth_form (0.00215)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71c5040 @filter=#<Proc:0xb76d4e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00903 (110 reqs/sec) | Rendering: 0.00682 (75%) | DB: 0.00055 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000163)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000246)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00052)
Completed in 0.01068 (93 reqs/sec) | Rendering: 0.00617 (57%) | DB: 0.00049 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000075)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000158)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00301)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71c54f0 @filter=#<Proc:0xb76d4e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00824 (121 reqs/sec) | Rendering: 0.00686 (83%) | DB: 0.00057 (6%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000185)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:06:25) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000118)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00193)
Rendered auth/_mini_auth_form (0.00222)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71c5040 @filter=#<Proc:0xb76d4e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00736 (135 reqs/sec) | Rendering: 0.00651 (88%) | DB: 0.00040 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:06:25) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000075)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:06:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000128)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000105)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000114)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:06:25) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000089)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000158)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:06:25) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000282)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000093)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:06:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000112)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000081)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000104)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000080)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.001089)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000087)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:06:25) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000171)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:06:25) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.001209)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00648 (154 reqs/sec) | DB: 0.00567 (87%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000257)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000414)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000176)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:06:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000251)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000179)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000303)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000179)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.00913 (109 reqs/sec) | DB: 0.00182 (19%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.001193)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000405)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000100)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000272)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00063)
Completed in 0.00557 (179 reqs/sec) | Rendering: 0.00454 (81%) | DB: 0.00209 (37%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00052)
Completed in 0.01250 (80 reqs/sec) | Rendering: 0.01232 (98%) | DB: 0.00019 (1%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000124)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:06:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000268)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000271)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000111)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000272)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000119)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000698)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000210)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00168)
Completed in 0.01549 (64 reqs/sec) | Rendering: 0.01248 (80%) | DB: 0.00212 (13%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:06:25) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000101)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000179)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00222 (451 reqs/sec) | DB: 0.00050 (22%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
  [4;36;1mSQL (0.000151)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000365)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.013102)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.000357)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextValue Columns (0.000521)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.000852)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mAttr Load (0.000286)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name IS NULL AND attrs.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.000231)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.000243)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000133)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES(NULL, NULL, 2, 1, 1, NULL)[0m
  [4;35;1mStructureTemplate Update (0.000150)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = NULL WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Load (0.000266)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.000577)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.000233)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mSQL (0.000306)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000055)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000063)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000056)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000057)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000063)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000252)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.000215)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.000070)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000063)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000067)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000073)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.000078)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000067)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000231)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000156)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mStructure Create (0.000144)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mRelationshipType Load (0.000078)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mRelationship Create (0.000132)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000074)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.000216)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.000071)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Create (0.000153)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.000307)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Create (0.018201)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.000283)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mStructureTemplate Update (0.000266)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = 'Vegetable' WHERE `id` = 4[0m
  [4;36;1mStructureTemplate Load (0.000239)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.000198)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.000220)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.000211)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.000329)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000189)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.005754)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000222)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mAttr Load (0.000333)[0m   [0mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
  [4;36;1mAttr Load (0.000324)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) AND (`attrs`.`name` = 'Name') ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mAttrValueMetadata Load (0.000225)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.000198)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Create (0.000163)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Load (0.000078)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000155)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000119)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.000214)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.000143)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Update (0.000200)[0m   [0mUPDATE `attr_value_metadatas` SET `value_id` = 1, `structure_id` = 3, `attr_id` = 1, `value_type` = 'TextValue' WHERE `id` = 3[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.000207)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000172)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Load (0.001200)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.value_id = 1 AND attr_value_metadatas.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Load (0.000536)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3 AND attr_value_metadatas.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.000196)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.000123)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000111)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.000063)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.000195)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mStructure Load (0.000148)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.000232)[0m   [0;1mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.000162)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;36;1mTextValue Load (0.000127)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.000349)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000253)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000196)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mAttr Load (0.000199)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.000138)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mStructure Create (0.000168)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mRelationshipType Load (0.000080)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Create (0.000133)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mStructure Load (0.000160)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000111)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.000211)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.left_id = 4) [0m
  [4;36;1mRelationship Load (0.000136)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.000065)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.000133)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.left_id = 5) [0m
  [4;35;1mRelationship Load (0.000122)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.000064)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.000131)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000116)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.000170)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.000321)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000127)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000343)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000504)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:08:48) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"attrs", "structure_template_id"=>"3", "attr"=>{}}
  [4;35;1mStructureTemplate Columns (0.000600)[0m   [0mSHOW FIELDS FROM `structure_templates`[0m
  [4;36;1mStructureTemplate Load (0.000192)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 3) [0m
  [4;35;1mSQL (0.000077)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000063)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:08:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000072)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000136)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000084)[0m   [0mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;36;1mSQL (0.000097)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;36;1mSQL (0.000086)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000101)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:08:48) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;36;1mSQL (0.000100)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000151)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:08:48) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000236)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:08:48', NULL, 1, NULL, NULL, '2008-06-03 14:08:48')[0m
  [4;36;1mDocument::Version Columns (0.000795)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000304)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:08:48', 3, NULL, 1, NULL, NULL, '2008-06-03 14:08:48')[0m
  [4;36;1mSQL (0.000558)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000079)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000218)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:08:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000297)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000120)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000138)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000266)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000181)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000387)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000147)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000131)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:08:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000110)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000198)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:08:48) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000112)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000223)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000238)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:08:48', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:08:48', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000164)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:08:48', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:08:48')[0m
  [4;35;1mSQL (0.015877)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000958)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000210)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:08:48) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00818)
Rendered auth/_mini_auth_form (0.00285)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a0560 @filter=#<Proc:0xb76b3548@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02286 (43 reqs/sec) | Rendering: 0.01813 (79%) | DB: 0.01805 (78%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000130)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000161)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000083)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:08:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000289)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00104)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a09ac @filter=#<Proc:0xb76b0aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00694 (144 reqs/sec) | Rendering: 0.00571 (82%) | DB: 0.00073 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000134)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000100)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000128)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00192)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a0e5c @filter=#<Proc:0xb76b0aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00643 (155 reqs/sec) | Rendering: 0.00543 (84%) | DB: 0.00042 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000268)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00067)
Completed in 0.01120 (89 reqs/sec) | Rendering: 0.00644 (57%) | DB: 0.00047 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000149)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001125)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000103)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000140)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00291)
Rendered auth/_mini_auth_form (0.00120)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a130c @filter=#<Proc:0xb76b0aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00781 (128 reqs/sec) | Rendering: 0.00681 (87%) | DB: 0.00165 (21%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:08:49) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000100)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00217)
Rendered auth/_mini_auth_form (0.00099)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a0e5c @filter=#<Proc:0xb76b0aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00768 (130 reqs/sec) | Rendering: 0.00683 (88%) | DB: 0.00031 (4%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000166)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000195)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:08:49) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000188)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000101)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:08:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000109)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000101)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000503)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000109)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000084)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000099)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000132)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:08:49) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000153)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:08:49) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000107)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000065)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:08:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000118)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000119)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000072)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000111)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000134)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000881)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000090)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000103)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:08:49) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000080)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000169)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:08:49) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000257)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00570 (175 reqs/sec) | DB: 0.00494 (86%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000520)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000083)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000235)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:08:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000298)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000235)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000361)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000176)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.00811 (123 reqs/sec) | DB: 0.00210 (25%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000332)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000104)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000271)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00053)
Completed in 0.00507 (197 reqs/sec) | Rendering: 0.00408 (80%) | DB: 0.00099 (19%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000139)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00054)
Completed in 0.00413 (242 reqs/sec) | Rendering: 0.00396 (95%) | DB: 0.00019 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000114)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:08:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000243)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000998)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000121)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000221)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000097)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000727)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000209)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00108)
Completed in 0.01303 (76 reqs/sec) | Rendering: 0.00956 (73%) | DB: 0.00278 (21%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000147)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:08:49) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000143)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000211)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00243 (412 reqs/sec) | DB: 0.00057 (23%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
  [4;36;1mSQL (0.000116)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000351)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.013206)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.000322)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextValue Columns (0.000524)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.000775)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mAttr Load (0.000291)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name IS NULL AND attrs.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.000238)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.000297)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000176)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES(NULL, NULL, 2, 1, 1, NULL)[0m
  [4;35;1mStructureTemplate Update (0.000194)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = NULL WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Load (0.000204)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.000585)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.000251)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mSQL (0.000308)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000082)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000050)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000056)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000232)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000063)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000244)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.000259)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.000181)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.000086)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000093)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000109)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000068)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.000080)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000064)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000234)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000181)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mStructure Create (0.000133)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mRelationshipType Load (0.000076)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mRelationship Create (0.000183)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.000297)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000072)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.000208)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.000092)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Create (0.000158)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.000285)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Create (0.001156)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.000628)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mStructureTemplate Update (0.000540)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = 'Vegetable' WHERE `id` = 4[0m
  [4;36;1mStructureTemplate Load (0.000243)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.000126)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.000161)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.000141)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.000291)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000200)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000111)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.001073)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mAttr Load (0.001138)[0m   [0mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
  [4;36;1mAttr Load (0.000434)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) AND (`attrs`.`name` = 'Name') ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mAttrValueMetadata Load (0.000407)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.000238)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Create (0.000246)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Load (0.000118)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000188)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000121)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.000203)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.000216)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Update (0.000224)[0m   [0mUPDATE `attr_value_metadatas` SET `value_id` = 1, `structure_id` = 3, `attr_id` = 1, `value_type` = 'TextValue' WHERE `id` = 3[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.000270)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000194)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Load (0.001025)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.value_id = 1 AND attr_value_metadatas.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Load (0.000313)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3 AND attr_value_metadatas.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.000177)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.000119)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000109)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.000059)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.000219)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mStructure Load (0.000212)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.000281)[0m   [0;1mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.000262)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;36;1mTextValue Load (0.000136)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.000360)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000166)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mAttr Load (0.000207)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.000135)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mStructure Create (0.000111)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mRelationshipType Load (0.000071)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Create (0.000151)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mStructure Load (0.000154)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000112)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.000155)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.left_id = 4) [0m
  [4;36;1mRelationship Load (0.000117)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.000065)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.000129)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.left_id = 5) [0m
  [4;35;1mRelationship Load (0.000166)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.000068)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.000130)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000112)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.000157)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.000324)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000113)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000339)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000459)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000203)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000255)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:11:10) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"attrs", "attr"=>{}, "structure_template"=>#<StructureTemplate id: 1, name: "Person", parent_id: nil, template_schema_id: nil>}
  [4;36;1mSQL (0.000142)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:11:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000101)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000102)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000096)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:11:10) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000103)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000209)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:11:10) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000239)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:11:10', NULL, 1, NULL, NULL, '2008-06-03 14:11:10')[0m
  [4;35;1mDocument::Version Columns (0.000865)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000248)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:11:10', 3, NULL, 1, NULL, NULL, '2008-06-03 14:11:10')[0m
  [4;35;1mSQL (0.000395)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000819)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:11:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000390)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.000112)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000130)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000280)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.003696)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000146)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000290)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000151)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000129)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000149)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000161)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000085)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:11:10) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000128)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000258)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000261)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:11:10', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:11:10', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000176)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:11:10', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:11:10')[0m
  [4;36;1mSQL (0.000344)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000077)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000155)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:11:10) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00906)
Rendered auth/_mini_auth_form (0.00282)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7147ed8 @filter=#<Proc:0xb765b6b8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02320 (43 reqs/sec) | Rendering: 0.01871 (80%) | DB: 0.00164 (7%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000127)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:11:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000253)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00086)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71483b0 @filter=#<Proc:0xb7658dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00614 (162 reqs/sec) | Rendering: 0.00486 (79%) | DB: 0.00064 (10%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000121)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000139)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00277)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7148838 @filter=#<Proc:0xb7658dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00834 (119 reqs/sec) | Rendering: 0.00696 (83%) | DB: 0.00039 (4%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000238)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00139)
Completed in 0.01018 (98 reqs/sec) | Rendering: 0.00625 (61%) | DB: 0.00043 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000146)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000101)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00172)
Rendered auth/_mini_auth_form (0.00085)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7148c70 @filter=#<Proc:0xb7658dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00559 (178 reqs/sec) | Rendering: 0.00475 (84%) | DB: 0.00046 (8%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000130)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:11:10) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000139)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00223)
Rendered auth/_mini_auth_form (0.00196)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7148838 @filter=#<Proc:0xb7658dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00782 (127 reqs/sec) | Rendering: 0.00679 (86%) | DB: 0.00032 (4%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000124)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000087)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000182)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:11:10) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000117)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:11:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000108)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000098)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000091)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000098)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000085)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000111)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:11:10) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000226)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:11:10) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000158)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000071)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000080)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:11:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000149)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000126)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000100)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:11:10) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000077)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000702)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000238)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:11:10) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.001621)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00751 (133 reqs/sec) | DB: 0.00570 (75%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000249)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000422)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000066)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000181)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:11:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000247)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000253)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000297)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.000152)[0m   [0;1m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.00884 (113 reqs/sec) | DB: 0.00187 (21%) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000178)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000412)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000078)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mSQL (0.000098)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000213)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00056)
Completed in 0.00508 (196 reqs/sec) | Rendering: 0.00419 (82%) | DB: 0.00103 (20%) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.000157)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00053)
Completed in 0.00518 (192 reqs/sec) | Rendering: 0.00501 (96%) | DB: 0.00022 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.000126)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000662)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:11:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.001409)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.000281)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000086)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000070)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.000622)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.000175)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00097)
Completed in 0.01276 (78 reqs/sec) | Rendering: 0.00900 (70%) | DB: 0.00360 (28%) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000137)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:11:10) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.000107)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Update (0.000174)[0m   [0mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00218 (458 reqs/sec) | DB: 0.00047 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
  [4;36;1mSQL (0.000154)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000359)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.012782)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.000339)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextValue Columns (0.000541)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.000638)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mAttr Load (0.000286)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name IS NULL AND attrs.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.000169)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.000222)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000127)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES(NULL, NULL, 2, 1, 1, NULL)[0m
  [4;35;1mStructureTemplate Update (0.000148)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = NULL WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Load (0.000635)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.001586)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.002215)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mSQL (0.000366)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000046)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000045)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001201)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000251)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.000312)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.000124)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.000073)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000101)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000076)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000064)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.000079)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000066)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000227)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000171)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mStructure Create (0.000203)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mRelationshipType Load (0.000113)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mRelationship Create (0.000201)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.000367)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000076)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000084)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.000243)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.000088)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Create (0.000173)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.000406)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Create (0.000234)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.000138)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mStructureTemplate Update (0.000167)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = 'Vegetable' WHERE `id` = 4[0m
  [4;36;1mStructureTemplate Load (0.000240)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.000144)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.000160)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.000181)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.000344)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000234)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000116)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000187)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mAttr Load (0.000370)[0m   [0mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
  [4;36;1mAttr Load (0.000285)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) AND (`attrs`.`name` = 'Name') ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mAttrValueMetadata Load (0.000311)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.000162)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Create (0.000214)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Load (0.000134)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000213)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000163)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.000205)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.000166)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Update (0.000229)[0m   [0mUPDATE `attr_value_metadatas` SET `value_id` = 1, `structure_id` = 3, `attr_id` = 1, `value_type` = 'TextValue' WHERE `id` = 3[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.000217)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000128)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Load (0.000170)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.value_id = 1 AND attr_value_metadatas.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Load (0.000244)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3 AND attr_value_metadatas.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.000165)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.000115)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000106)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.000062)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.000178)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mStructure Load (0.000141)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.000228)[0m   [0;1mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.000158)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;36;1mTextValue Load (0.000125)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.000330)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000159)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mAttr Load (0.000258)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.000141)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mStructure Create (0.000116)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mRelationshipType Load (0.000074)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Create (0.000201)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mStructure Load (0.000176)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000114)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.000146)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.left_id = 4) [0m
  [4;36;1mRelationship Load (0.000118)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.000064)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.000228)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.left_id = 5) [0m
  [4;35;1mRelationship Load (0.001200)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.000094)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.000198)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000119)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.000120)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.000474)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000073)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000117)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000354)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000566)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000158)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000159)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:11:34) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{}}
  [4;36;1mStructureTemplate Load (0.000138)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000091)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:11:34) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000115)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000116)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;36;1mSQL (0.000081)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;36;1mSQL (0.000073)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000075)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:11:34) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;36;1mSQL (0.000890)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000205)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:11:34) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000257)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:11:34', NULL, 1, NULL, NULL, '2008-06-03 14:11:34')[0m
  [4;36;1mDocument::Version Columns (0.000810)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000214)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:11:34', 3, NULL, 1, NULL, NULL, '2008-06-03 14:11:34')[0m
  [4;36;1mSQL (0.000333)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:11:34) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000288)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000110)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000129)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000260)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000149)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.001439)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000160)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:11:34) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000144)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000174)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:11:35) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000133)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000263)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000257)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:11:34', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:11:35', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000223)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:11:35', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:11:34')[0m
  [4;35;1mSQL (0.001319)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000218)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:11:35) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.01019)
Rendered auth/_mini_auth_form (0.00280)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a8e40 @filter=#<Proc:0xb76bc65c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02409 (41 reqs/sec) | Rendering: 0.01909 (79%) | DB: 0.00271 (11%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000159)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000083)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:11:35) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000264)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00086)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a9318 @filter=#<Proc:0xb76b9d6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00592 (168 reqs/sec) | Rendering: 0.00484 (81%) | DB: 0.00068 (11%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000125)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000086)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000094)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00277)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a97a0 @filter=#<Proc:0xb76b9d6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00672 (148 reqs/sec) | Rendering: 0.00589 (87%) | DB: 0.00036 (5%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000276)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00045)
Completed in 0.00925 (108 reqs/sec) | Rendering: 0.00526 (56%) | DB: 0.00047 (5%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000136)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000086)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000141)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00203)
Rendered auth/_mini_auth_form (0.00097)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a9bd8 @filter=#<Proc:0xb76b9d6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00646 (154 reqs/sec) | Rendering: 0.00546 (84%) | DB: 0.00047 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.001079)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000485)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:11:35) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000115)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00165)
Rendered auth/_mini_auth_form (0.00084)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a97a0 @filter=#<Proc:0xb76b9d6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00505 (198 reqs/sec) | Rendering: 0.00428 (84%) | DB: 0.00168 (33%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:11:35) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000138)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:11:35) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000106)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000069)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000095)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000070)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000104)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:11:35) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000897)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000207)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:11:35) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000065)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:11:35) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000070)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000081)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000081)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:11:35) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000097)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000154)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:11:35) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000241)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00669 (149 reqs/sec) | DB: 0.00398 (59%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000225)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000370)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000180)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:11:35) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000255)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000176)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000284)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000210)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.00760 (131 reqs/sec) | DB: 0.00176 (23%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.001049)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000385)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000237)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00057)
Completed in 0.00530 (188 reqs/sec) | Rendering: 0.00437 (82%) | DB: 0.00218 (41%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000157)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000075)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00054)
Completed in 0.00416 (240 reqs/sec) | Rendering: 0.00398 (95%) | DB: 0.00023 (5%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000085)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:11:35) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000267)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000256)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000079)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000179)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000071)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000621)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00098)
Completed in 0.01136 (88 reqs/sec) | Rendering: 0.00885 (77%) | DB: 0.00185 (16%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000130)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:11:35) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000100)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000184)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00224 (447 reqs/sec) | DB: 0.00046 (20%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.001001)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000326)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.013552)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.000323)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextValue Columns (0.000520)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.000607)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mAttr Load (0.000283)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name IS NULL AND attrs.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.000191)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.000299)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000226)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES(NULL, NULL, 2, 1, 1, NULL)[0m
  [4;35;1mStructureTemplate Update (0.000235)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = NULL WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Load (0.000365)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.001087)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.000247)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mSQL (0.000290)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000054)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000046)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000044)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000044)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000213)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.001096)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.000119)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.000084)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000066)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000077)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000065)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.000067)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000061)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000236)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000186)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mStructure Create (0.000127)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mRelationshipType Load (0.000074)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mRelationship Create (0.000133)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000072)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.000219)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.000074)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Create (0.000151)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.000304)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000082)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Create (0.000209)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.001054)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mStructureTemplate Update (0.000198)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = 'Vegetable' WHERE `id` = 4[0m
  [4;36;1mStructureTemplate Load (0.000181)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.000124)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.000165)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.000159)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.000326)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000211)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000092)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.001118)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mAttr Load (0.000366)[0m   [0mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
  [4;36;1mAttr Load (0.000274)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) AND (`attrs`.`name` = 'Name') ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mAttrValueMetadata Load (0.000264)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.000163)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Create (0.000190)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Load (0.000093)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000174)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000127)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.000173)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.000208)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Update (0.000360)[0m   [0mUPDATE `attr_value_metadatas` SET `value_id` = 1, `structure_id` = 3, `attr_id` = 1, `value_type` = 'TextValue' WHERE `id` = 3[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.000354)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;35;1mTextValue Load (0.004325)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Load (0.000347)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.value_id = 1 AND attr_value_metadatas.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Load (0.000330)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3 AND attr_value_metadatas.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.000236)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.000235)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000200)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.000103)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.001024)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mStructure Load (0.000344)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.000768)[0m   [0;1mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.000247)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;36;1mTextValue Load (0.000159)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.000381)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000168)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mAttr Load (0.000209)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.000136)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mStructure Create (0.000116)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mRelationshipType Load (0.000085)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Create (0.000995)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mStructure Load (0.000195)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000120)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.000150)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.left_id = 4) [0m
  [4;36;1mRelationship Load (0.000122)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.000066)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.000129)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.left_id = 5) [0m
  [4;35;1mRelationship Load (0.000120)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.000075)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.000134)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000119)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.000114)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.000332)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000118)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000326)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000523)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000045)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000155)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000157)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000223)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:12:47) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{}}
  [4;35;1mStructureTemplate Load (0.000142)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000084)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00502)
Completed in 0.02143 (46 reqs/sec) | Rendering: 0.01493 (69%) | DB: 0.00177 (8%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs?]
  [4;35;1mSQL (0.000129)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000146)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:12:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000133)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.001042)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000116)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000107)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000098)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:12:47) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000111)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000153)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:12:47) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000240)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:12:47', NULL, 1, NULL, NULL, '2008-06-03 14:12:47')[0m
  [4;35;1mDocument::Version Columns (0.000895)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000238)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:12:47', 3, NULL, 1, NULL, NULL, '2008-06-03 14:12:47')[0m
  [4;35;1mSQL (0.000337)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000199)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:12:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000324)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.000188)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000187)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000475)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000294)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000290)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000162)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001029)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000114)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:12:47) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000110)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000294)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000272)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:12:47', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:12:47', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000255)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:12:47', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:12:47')[0m
  [4;36;1mSQL (0.000340)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000148)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:12:47) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00781)
Rendered auth/_mini_auth_form (0.00081)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71d7650 @filter=#<Proc:0xb76eb72c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01577 (63 reqs/sec) | Rendering: 0.01102 (69%) | DB: 0.00167 (10%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000133)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000090)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:12:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000228)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71d7ac4 @filter=#<Proc:0xb76e8e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00584 (171 reqs/sec) | Rendering: 0.00486 (83%) | DB: 0.00056 (9%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000124)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000085)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000102)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71d7f60 @filter=#<Proc:0xb76e8e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00570 (175 reqs/sec) | Rendering: 0.00485 (85%) | DB: 0.00036 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000245)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00995 (100 reqs/sec) | Rendering: 0.00551 (55%) | DB: 0.00046 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000151)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000120)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000124)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71d8438 @filter=#<Proc:0xb76e8e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00590 (169 reqs/sec) | Rendering: 0.00484 (82%) | DB: 0.00051 (8%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:12:47) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000096)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00167)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71d7f60 @filter=#<Proc:0xb76e8e3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00517 (193 reqs/sec) | Rendering: 0.00443 (85%) | DB: 0.00030 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000142)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000179)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:12:47) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:12:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000229)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000072)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000091)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000077)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001381)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000157)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:12:47) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000120)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000207)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:12:47) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000147)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000132)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:12:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000113)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000068)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000078)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:12:47) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000181)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:12:47) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.001709)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00689 (145 reqs/sec) | DB: 0.00634 (92%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.002764)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000402)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000071)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000218)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:12:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000279)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000270)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000225)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000180)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000229)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.001257)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000313)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000154)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000247)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000305)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000180)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000411)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000407)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01876 (53 reqs/sec) | DB: 0.00791 (42%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000425)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000109)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000260)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00075)
Completed in 0.00587 (170 reqs/sec) | Rendering: 0.00483 (82%) | DB: 0.00110 (18%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000157)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000074)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00060)
Completed in 0.00582 (171 reqs/sec) | Rendering: 0.00562 (96%) | DB: 0.00023 (3%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000127)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:12:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.001249)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000273)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000177)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000246)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000117)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000736)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000205)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00110)
Completed in 0.01477 (67 reqs/sec) | Rendering: 0.01077 (72%) | DB: 0.00319 (21%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000141)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:12:47) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000129)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000206)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00266 (376 reqs/sec) | DB: 0.00053 (20%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.001259)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
  [4;36;1mSQL (0.000118)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000326)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.014397)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.000348)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextValue Columns (0.000584)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.000663)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mAttr Load (0.000308)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name IS NULL AND attrs.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.000206)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.000234)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000140)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES(NULL, NULL, 2, 1, 1, NULL)[0m
  [4;35;1mStructureTemplate Update (0.000165)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = NULL WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Load (0.000161)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.000687)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.000317)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mSQL (0.000330)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000044)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000045)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000045)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000050)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000263)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.000490)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.000099)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000107)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.000172)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000094)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000092)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000270)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000159)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mStructure Create (0.000181)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mRelationshipType Load (0.000081)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mRelationship Create (0.000165)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000075)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000087)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.000304)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.000084)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Create (0.000156)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.000574)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Create (0.000156)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.000221)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mStructureTemplate Update (0.000255)[0m   [0mUPDATE `structure_templates` SET `template_schema_id` = NULL, `parent_id` = NULL, `name` = 'Vegetable' WHERE `id` = 4[0m
  [4;36;1mStructureTemplate Load (0.000217)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.000125)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.000139)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.000124)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.000311)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000197)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000078)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.000136)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mAttr Load (0.000296)[0m   [0mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
  [4;36;1mAttr Load (0.000248)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) AND (`attrs`.`name` = 'Name') ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mAttrValueMetadata Load (0.000227)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.000143)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Create (0.000156)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Load (0.000077)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000149)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000115)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.000146)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.000152)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Update (0.000154)[0m   [0mUPDATE `attr_value_metadatas` SET `value_id` = 1, `structure_id` = 3, `attr_id` = 1, `value_type` = 'TextValue' WHERE `id` = 3[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.001106)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;35;1mTextValue Load (0.000276)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Load (0.000270)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.value_id = 1 AND attr_value_metadatas.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Load (0.000394)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.attr_id = 1 AND attr_value_metadatas.structure_id = 3 AND attr_value_metadatas.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.000206)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.002142)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.000174)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.000677)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.000382)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mStructure Load (0.000263)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.000329)[0m   [0;1mSELECT attrs.* FROM attrs INNER JOIN attr_value_metadatas ON attrs.id = attr_value_metadatas.attr_id WHERE ((attr_value_metadatas.structure_id = 3)) AND (`attrs`.`name` = 'Name') LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.000296)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (attr_value_metadatas.structure_id = 3) AND (`attr_value_metadatas`.`attr_id` = 1) LIMIT 1[0m
  [4;36;1mTextValue Load (0.000260)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.000376)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000073)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000290)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mAttr Load (0.000317)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.000208)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mStructure Create (0.000188)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mRelationshipType Load (0.000131)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Create (0.000217)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mStructure Load (0.000212)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000116)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.000190)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.left_id = 4) [0m
  [4;36;1mRelationship Load (0.000122)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.000064)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.000130)[0m   [0;1mSELECT * FROM `relationships` WHERE (relationships.left_id = 5) [0m
  [4;35;1mRelationship Load (0.000118)[0m   [0mSELECT * FROM `relationships` WHERE (relationships.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.000064)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.000136)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.000131)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.000119)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.000324)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000044)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000248)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000334)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000461)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000184)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000180)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000197)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:50:19) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000128)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000069)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000308)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000193)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000280)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000222)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 2, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01362 (73 reqs/sec) | DB: 0.00286 (21%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000276)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000375)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000074)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:50:19) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000161)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000077)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:50:19) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:50:19) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000090)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:50:19) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000106)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:50:19) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000108)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:50:19) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000110)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000177)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:50:19) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000278)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:50:19', NULL, 1, NULL, NULL, '2008-06-03 14:50:19')[0m
  [4;35;1mDocument::Version Columns (0.000953)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000277)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:50:19', 3, NULL, 1, NULL, NULL, '2008-06-03 14:50:19')[0m
  [4;35;1mSQL (0.000357)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000513)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000339)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:50:19) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000661)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.002031)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000224)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000299)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:50:19) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000279)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000128)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:50:19) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000286)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000139)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000121)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:50:20) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000115)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000219)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000319)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:50:19', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:50:20', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000253)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:50:20', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:50:19')[0m
  [4;36;1mSQL (0.002027)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000158)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:50:20) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00848)
Rendered auth/_mini_auth_form (0.00297)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb718853c @filter=#<Proc:0xb769c6b8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02150 (46 reqs/sec) | Rendering: 0.01685 (78%) | DB: 0.00333 (15%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000175)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000140)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:50:20) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000301)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7188988 @filter=#<Proc:0xb7699dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00587 (170 reqs/sec) | Rendering: 0.00480 (81%) | DB: 0.00074 (12%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000115)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000093)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000114)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00176)
Rendered auth/_mini_auth_form (0.00093)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7188e4c @filter=#<Proc:0xb7699dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00600 (166 reqs/sec) | Rendering: 0.00510 (85%) | DB: 0.00039 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000140)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000230)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00049)
Completed in 0.00956 (104 reqs/sec) | Rendering: 0.00550 (57%) | DB: 0.00043 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000145)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000099)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000136)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00173)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71892fc @filter=#<Proc:0xb7699dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00606 (164 reqs/sec) | Rendering: 0.00511 (84%) | DB: 0.00049 (8%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:50:20) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000090)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00093)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7188e4c @filter=#<Proc:0xb7699dc8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00531 (188 reqs/sec) | Rendering: 0.00455 (85%) | DB: 0.00029 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000646)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000387)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:50:20) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000282)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:50:20) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000385)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000113)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000148)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:50:20) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000203)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:50:20) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000150)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000086)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:50:20) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000142)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000118)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000122)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000070)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000115)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000161)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000121)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:50:20) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000138)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000198)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:50:20) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000267)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00547 (182 reqs/sec) | DB: 0.00570 (104%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000259)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000426)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000081)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000197)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:50:20) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000233)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000187)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000161)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000152)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000193)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000161)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000192)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000115)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000199)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000113)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000098)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000305)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000145)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01412 (70 reqs/sec) | DB: 0.00322 (22%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000190)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000432)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000096)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000230)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00496 (201 reqs/sec) | Rendering: 0.00405 (81%) | DB: 0.00106 (21%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00481 (208 reqs/sec) | Rendering: 0.00370 (77%) | DB: 0.00019 (3%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000111)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:50:20) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000282)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000276)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000164)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000177)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000075)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000615)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00095)
Completed in 0.01699 (58 reqs/sec) | Rendering: 0.01106 (65%) | DB: 0.00192 (11%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000129)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:50:20) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000223)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000260)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00258 (387 reqs/sec) | DB: 0.00066 (25%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000141)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000138)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000383)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000703)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000212)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000210)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000234)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:51:24) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000102)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000080)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.005755)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000244)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000292)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000227)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01992 (50 reqs/sec) | DB: 0.00864 (43%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000181)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000394)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000233)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000193)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:51:24) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000130)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:51:24) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:51:24) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000074)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:51:24) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000089)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:51:24) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000092)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:51:24) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000090)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000188)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:51:25) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000238)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:51:25', NULL, 1, NULL, NULL, '2008-06-03 14:51:25')[0m
  [4;35;1mDocument::Version Columns (0.000794)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000239)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:51:25', 3, NULL, 1, NULL, NULL, '2008-06-03 14:51:25')[0m
  [4;35;1mSQL (0.001190)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000198)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:51:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000257)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.000104)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000167)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000297)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000293)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000151)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000293)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000128)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000137)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000146)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:51:25) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000717)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000315)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000325)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:51:24', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:51:25', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000238)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:51:25', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:51:24')[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000167)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:51:25) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00864)
Rendered auth/_mini_auth_form (0.00285)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71b837c @filter=#<Proc:0xb76cc548@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02282 (43 reqs/sec) | Rendering: 0.01678 (73%) | DB: 0.00246 (10%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000133)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000238)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:51:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000270)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00182)
Rendered auth/_mini_auth_form (0.00097)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71b87b4 @filter=#<Proc:0xb76c9aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00625 (159 reqs/sec) | Rendering: 0.00517 (82%) | DB: 0.00078 (12%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000146)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000118)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000138)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71b8c8c @filter=#<Proc:0xb76c9aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00628 (159 reqs/sec) | Rendering: 0.00535 (85%) | DB: 0.00046 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000136)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000276)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00047)
Completed in 0.00971 (103 reqs/sec) | Rendering: 0.00529 (54%) | DB: 0.00046 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000104)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000221)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00211)
Rendered auth/_mini_auth_form (0.00093)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71b913c @filter=#<Proc:0xb76c9aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00647 (154 reqs/sec) | Rendering: 0.00537 (83%) | DB: 0.00056 (8%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000136)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:51:25) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000104)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00207)
Rendered auth/_mini_auth_form (0.06719)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71b8c8c @filter=#<Proc:0xb76c9aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.07397 (13 reqs/sec) | Rendering: 0.07315 (98%) | DB: 0.00029 (0%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000162)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000229)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:51:25) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000130)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000098)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000096)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:51:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000162)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000120)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000132)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000116)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:51:25) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000109)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000173)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:51:25) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:51:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000130)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000129)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001219)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000120)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000331)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:51:25) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000120)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000199)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:51:25) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000228)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00633 (157 reqs/sec) | DB: 0.00542 (85%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000180)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000398)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000170)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:51:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000233)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000176)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000150)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000140)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000183)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000197)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000267)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000147)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000283)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000137)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000116)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000411)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000160)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01349 (74 reqs/sec) | DB: 0.00342 (25%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000208)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000441)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000095)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000233)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00497 (201 reqs/sec) | Rendering: 0.00407 (81%) | DB: 0.00109 (21%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00396 (252 reqs/sec) | Rendering: 0.00380 (95%) | DB: 0.00019 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000121)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000174)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:51:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000277)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000268)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000158)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000175)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000078)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000636)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000167)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00094)
Completed in 0.01271 (78 reqs/sec) | Rendering: 0.01008 (79%) | DB: 0.00205 (16%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000142)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:51:25) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000434)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000208)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00298 (336 reqs/sec) | DB: 0.00084 (28%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000315)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000526)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000377)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000183)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000157)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:51:47) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000338)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000072)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000615)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000249)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000252)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000150)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01167 (85 reqs/sec) | DB: 0.00339 (29%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000166)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000407)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000073)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000197)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:51:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000105)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000113)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000084)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000188)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000081)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:51:47) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000130)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000234)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:51:47) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000262)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:51:47', NULL, 1, NULL, NULL, '2008-06-03 14:51:47')[0m
  [4;35;1mDocument::Version Columns (0.000941)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000242)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:51:47', 3, NULL, 1, NULL, NULL, '2008-06-03 14:51:47')[0m
  [4;35;1mSQL (0.000316)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000177)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:51:47) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000295)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.000136)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000180)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000375)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000086)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000325)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000296)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000173)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:51:47) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000118)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000155)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:51:48) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000120)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000232)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000241)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:51:47', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:51:48', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000219)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:51:48', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:51:47')[0m
  [4;36;1mSQL (0.002239)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000241)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:51:48) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00879)
Rendered auth/_mini_auth_form (0.00292)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb713a4a4 @filter=#<Proc:0xb764e65c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02179 (45 reqs/sec) | Rendering: 0.01682 (77%) | DB: 0.00356 (16%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000124)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000066)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000085)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:51:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000277)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00178)
Rendered auth/_mini_auth_form (0.00095)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb713a8f0 @filter=#<Proc:0xb764bd6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00684 (146 reqs/sec) | Rendering: 0.00569 (83%) | DB: 0.00070 (10%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000133)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000105)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00172)
Rendered auth/_mini_auth_form (0.00095)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb713adb4 @filter=#<Proc:0xb764bd6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00740 (135 reqs/sec) | Rendering: 0.00653 (88%) | DB: 0.00037 (5%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000139)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000251)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00047)
Completed in 0.00983 (101 reqs/sec) | Rendering: 0.00580 (59%) | DB: 0.00044 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000139)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000103)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000152)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00213)
Rendered auth/_mini_auth_form (0.00139)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb713b264 @filter=#<Proc:0xb764bd6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00701 (142 reqs/sec) | Rendering: 0.00596 (84%) | DB: 0.00050 (7%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000063)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:51:48) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000140)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00191)
Rendered auth/_mini_auth_form (0.00094)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb713adb4 @filter=#<Proc:0xb764bd6c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00615 (162 reqs/sec) | Rendering: 0.00519 (84%) | DB: 0.00036 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000139)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000191)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:51:48) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:51:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000102)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000100)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000725)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.001385)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000094)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:51:48) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000194)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:51:48) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000139)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:51:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000108)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000119)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000076)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000101)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000565)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000105)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:51:48) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000842)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000103)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000208)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:51:48) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000278)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00705 (141 reqs/sec) | DB: 0.00679 (96%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000222)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000322)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:51:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000248)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000178)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000160)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000189)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000191)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000161)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000189)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000115)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000204)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000119)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000104)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000393)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000151)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01294 (77 reqs/sec) | DB: 0.00317 (24%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000150)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000400)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000206)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00484 (206 reqs/sec) | Rendering: 0.00399 (82%) | DB: 0.00097 (20%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000198)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000078)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00053)
Completed in 0.00514 (194 reqs/sec) | Rendering: 0.00495 (96%) | DB: 0.00028 (5%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000073)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:51:48) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000256)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000243)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000155)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000212)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000078)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000631)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00098)
Completed in 0.01250 (80 reqs/sec) | Rendering: 0.00988 (79%) | DB: 0.00194 (15%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000129)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:51:48) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000103)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000311)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00264 (379 reqs/sec) | DB: 0.00060 (22%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000189)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000104)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000313)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000554)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000215)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000173)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000176)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:53:41) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000109)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000291)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000160)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000213)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000139)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01070 (93 reqs/sec) | DB: 0.00257 (24%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000214)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000386)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000170)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000281)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000075)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000065)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:53:41) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000095)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000057)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000060)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000161)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000220)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000119)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00359 (278 reqs/sec) | DB: 0.00196 (54%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000153)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000329)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000096)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000079)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000075)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000126)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:53:41) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000128)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000212)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:53:41) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000245)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:53:41', NULL, 1, NULL, NULL, '2008-06-03 14:53:41')[0m
  [4;35;1mDocument::Version Columns (0.000817)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000230)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:53:41', 3, NULL, 1, NULL, NULL, '2008-06-03 14:53:41')[0m
  [4;35;1mSQL (0.000330)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000176)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:53:41) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000259)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.000102)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000134)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000306)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000285)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000180)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.001234)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:53:41) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000102)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000146)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000063)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:53:41) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000123)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000221)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000275)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:53:41', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:53:41', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000163)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:53:41', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:53:41')[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000156)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:53:41) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.01069)
Rendered auth/_mini_auth_form (0.00281)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a21bc @filter=#<Proc:0xb76b6540@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02526 (39 reqs/sec) | Rendering: 0.01861 (73%) | DB: 0.00185 (7%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000129)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000140)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000086)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:53:41) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000222)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.01422)
Rendered auth/_mini_auth_form (0.00127)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a261c @filter=#<Proc:0xb76b3a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01921 (52 reqs/sec) | Rendering: 0.01822 (94%) | DB: 0.00063 (3%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000149)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000136)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00174)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a2acc @filter=#<Proc:0xb76b3a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00589 (169 reqs/sec) | Rendering: 0.00493 (83%) | DB: 0.00047 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000134)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000240)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00046)
Completed in 0.00956 (104 reqs/sec) | Rendering: 0.00557 (58%) | DB: 0.00042 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000134)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000138)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00173)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a2f7c @filter=#<Proc:0xb76b3a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00588 (169 reqs/sec) | Rendering: 0.00493 (83%) | DB: 0.00045 (7%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:53:42) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000103)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00200)
Rendered auth/_mini_auth_form (0.00099)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a2acc @filter=#<Proc:0xb76b3a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00575 (174 reqs/sec) | Rendering: 0.00497 (86%) | DB: 0.00029 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.001135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000232)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:53:42) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000115)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000081)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:53:42) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000091)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000094)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000093)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:53:42) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000109)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000177)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:53:42) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:53:42) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000144)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000103)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000089)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000113)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:53:42) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000090)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000184)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:53:42) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000228)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00721 (138 reqs/sec) | DB: 0.00494 (68%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000180)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000333)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:53:42) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000211)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000204)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000158)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000147)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000190)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000431)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000254)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000121)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000260)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000114)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000098)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000414)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000177)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01388 (72 reqs/sec) | DB: 0.00353 (25%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000198)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000402)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000076)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000271)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00520 (192 reqs/sec) | Rendering: 0.00420 (80%) | DB: 0.00106 (20%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000147)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00392 (255 reqs/sec) | Rendering: 0.00375 (95%) | DB: 0.00020 (5%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000112)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:53:42) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000232)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000244)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000170)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000217)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000070)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000629)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000162)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00094)
Completed in 0.01239 (80 reqs/sec) | Rendering: 0.00982 (79%) | DB: 0.00189 (15%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000126)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:53:42) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000247)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000231)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00265 (377 reqs/sec) | DB: 0.00066 (24%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000154)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000120)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000329)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000545)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000186)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000163)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000152)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:54:29) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000111)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000060)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000314)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000173)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000225)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000182)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01186 (84 reqs/sec) | DB: 0.00261 (21%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000321)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000405)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000178)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000172)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000065)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000059)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:54:29) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000136)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000082)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000074)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000179)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000238)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000132)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00384 (260 reqs/sec) | DB: 0.00211 (54%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000175)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000412)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"attrs"}
  [4;35;1mSQL (0.000075)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;35;1mSQL (0.000100)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000122)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:54:29) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000159)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:54:29) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Create (0.000230)[0m   [0;1mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:54:29', NULL, 1, NULL, NULL, '2008-06-03 14:54:29')[0m
  [4;35;1mDocument::Version Columns (0.000822)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mDocument::Version Create (0.000229)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:54:29', 3, NULL, 1, NULL, NULL, '2008-06-03 14:54:29')[0m
  [4;35;1mSQL (0.000297)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000162)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:54:29) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000243)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mDocument::Version Delete all (0.000102)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.000133)[0m   [0;1m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;35;1mSQL (0.000303)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000300)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;36;1mDocument Load (0.001354)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.000144)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001039)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000107)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.000150)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:54:29) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;36;1mDocument Load (0.000142)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.000220)[0m   [0mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;36;1mDocument Update (0.000249)[0m   [0;1mUPDATE `documents` SET `created_at` = '2008-06-03 14:54:29', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:54:29', `project_id` = NULL WHERE `id` = 1[0m
  [4;35;1mDocument::Version Create (0.000211)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:54:29', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:54:29')[0m
  [4;36;1mSQL (0.000403)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:54:29) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00794)
Rendered auth/_mini_auth_form (0.00280)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb714b2b8 @filter=#<Proc:0xb765f72c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02005 (49 reqs/sec) | Rendering: 0.01554 (77%) | DB: 0.00165 (8%) | 200 OK [http://test.host/projects?]
  [4;35;1mSQL (0.000130)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000139)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000083)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:54:29) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000267)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00182)
Rendered auth/_mini_auth_form (0.00092)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb714b718 @filter=#<Proc:0xb765ce3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00642 (155 reqs/sec) | Rendering: 0.00535 (83%) | DB: 0.00067 (10%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000159)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000636)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000089)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000152)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb714bb8c @filter=#<Proc:0xb765ce3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00581 (172 reqs/sec) | Rendering: 0.00488 (84%) | DB: 0.00104 (17%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000269)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00047)
Completed in 0.00939 (106 reqs/sec) | Rendering: 0.00527 (56%) | DB: 0.00048 (5%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000087)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000104)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00088)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb714c050 @filter=#<Proc:0xb765ce3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00566 (176 reqs/sec) | Rendering: 0.00478 (84%) | DB: 0.00042 (7%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000121)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:54:29) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000158)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00191)
Rendered auth/_mini_auth_form (0.00096)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb714bb8c @filter=#<Proc:0xb765ce3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00576 (173 reqs/sec) | Rendering: 0.00487 (84%) | DB: 0.00033 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000207)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:54:29) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000140)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000090)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:54:29) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000138)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000100)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000113)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:54:29) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000105)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000153)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:54:29) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000119)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:54:29) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000118)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000104)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000126)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000117)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:54:29) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000089)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000195)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:54:29) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000247)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00577 (173 reqs/sec) | DB: 0.00346 (59%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000187)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000307)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000063)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:54:29) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000239)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000179)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000169)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000154)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000190)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000167)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000211)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000125)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000195)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000111)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000104)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000404)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000164)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01292 (77 reqs/sec) | DB: 0.00314 (24%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000224)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000465)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000109)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000260)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00548 (182 reqs/sec) | Rendering: 0.00453 (82%) | DB: 0.00118 (21%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000165)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00394 (253 reqs/sec) | Rendering: 0.00378 (95%) | DB: 0.00022 (5%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000114)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:54:29) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000238)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000266)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000172)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000184)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000070)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000640)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000179)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00094)
Completed in 0.01236 (80 reqs/sec) | Rendering: 0.00979 (79%) | DB: 0.00191 (15%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:54:29) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000126)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000225)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00242 (413 reqs/sec) | DB: 0.00052 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000147)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000123)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000324)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000541)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000187)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000181)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000160)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:56:01) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000122)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000301)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000180)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000222)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000145)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01117 (89 reqs/sec) | DB: 0.00259 (23%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000175)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000436)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000170)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000171)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000064)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000061)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:56:01) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000115)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000060)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000062)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000164)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000210)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000123)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00361 (276 reqs/sec) | DB: 0.00188 (52%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000159)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000867)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000110)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000073)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000069)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000133)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000262)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00371 (269 reqs/sec) | Rendering: 0.00008 (2%) | DB: 0.00185 (49%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000129)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"attrs"}
  [4;36;1mSQL (0.000124)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000115)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:56:01) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000158)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:56:01) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000238)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:56:01', NULL, 1, NULL, NULL, '2008-06-03 14:56:01')[0m
  [4;36;1mDocument::Version Columns (0.000808)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000209)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:56:01', 3, NULL, 1, NULL, NULL, '2008-06-03 14:56:01')[0m
  [4;36;1mSQL (0.000337)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000162)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:56:01) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000305)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000585)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000258)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000263)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000214)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000337)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:56:01) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000107)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000153)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:56:01) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000112)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000224)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000234)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:56:01', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:56:01', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000174)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:56:01', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:56:01')[0m
  [4;35;1mSQL (0.000400)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000121)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000246)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:56:01) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.01014)
Rendered auth/_mini_auth_form (0.00274)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711af64 @filter=#<Proc:0xb762f540@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02407 (41 reqs/sec) | Rendering: 0.01794 (74%) | DB: 0.00172 (7%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000123)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.013090)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000082)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000108)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:56:02) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000415)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00191)
Rendered auth/_mini_auth_form (0.00095)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711b3d8 @filter=#<Proc:0xb762ca98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00867 (115 reqs/sec) | Rendering: 0.00728 (83%) | DB: 0.01382 (159%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000138)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000092)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000124)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711b824 @filter=#<Proc:0xb762ca98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00573 (174 reqs/sec) | Rendering: 0.00483 (84%) | DB: 0.00040 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000255)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000259)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00045)
Completed in 0.01067 (93 reqs/sec) | Rendering: 0.00561 (52%) | DB: 0.00058 (5%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000149)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000214)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00204)
Rendered auth/_mini_auth_form (0.00094)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711bce8 @filter=#<Proc:0xb762ca98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00769 (129 reqs/sec) | Rendering: 0.00664 (86%) | DB: 0.00061 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000144)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000073)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:56:02) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000120)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00193)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711b824 @filter=#<Proc:0xb762ca98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00568 (176 reqs/sec) | Rendering: 0.00487 (85%) | DB: 0.00034 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000140)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000204)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:56:02) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000131)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000084)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:56:02) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000099)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000126)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000066)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000137)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000117)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000102)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:56:02) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000118)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000155)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:56:02) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000224)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000072)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:56:02) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000127)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000078)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000199)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000090)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000104)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:56:02) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000112)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000202)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:56:02) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000296)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00725 (137 reqs/sec) | DB: 0.00379 (52%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000275)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000349)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000178)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:56:02) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000211)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000184)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000163)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000619)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;36;1mAttr Load (0.000304)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.000185)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;36;1mAttr Load (0.000079)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.000134)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000252)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000114)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;36;1mStructureTemplate Destroy (0.000101)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;35;1mRelationshipType Load (0.000402)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.000152)[0m   [0;1m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01382 (72 reqs/sec) | DB: 0.00377 (27%) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000175)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000404)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000097)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mSQL (0.000101)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000215)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00068)
Completed in 0.00572 (174 reqs/sec) | Rendering: 0.00487 (85%) | DB: 0.00104 (18%) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.000147)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00052)
Completed in 0.00434 (230 reqs/sec) | Rendering: 0.00414 (95%) | DB: 0.00022 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:56:02) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000292)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.000258)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000159)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mSQL (0.000389)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000081)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.000645)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.000169)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00097)
Completed in 0.01369 (73 reqs/sec) | Rendering: 0.01087 (79%) | DB: 0.00216 (15%) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000129)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:56:02) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.000091)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Update (0.000222)[0m   [0mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00225 (444 reqs/sec) | DB: 0.00049 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.000164)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000127)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000359)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000692)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000243)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000205)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000229)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:57:17) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000125)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000060)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000300)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000177)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000222)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000138)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01090 (91 reqs/sec) | DB: 0.00293 (26%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000175)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000360)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000175)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000173)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000065)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000081)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:57:17) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000114)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000061)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000064)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000162)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000280)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000118)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00390 (256 reqs/sec) | DB: 0.00189 (48%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000154)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000604)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000381)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000096)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000075)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000091)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000056)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000259)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00358 (279 reqs/sec) | Rendering: 0.00007 (2%) | DB: 0.00183 (51%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000103)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000153)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000080)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000092)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000057)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00432)
Completed in 0.01465 (68 reqs/sec) | Rendering: 0.01368 (93%) | DB: 0.00054 (3%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"attrs"}
  [4;36;1mSQL (0.000085)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:57:17) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;36;1mSQL (0.000085)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000160)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:57:17) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000234)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:57:17', NULL, 1, NULL, NULL, '2008-06-03 14:57:17')[0m
  [4;36;1mDocument::Version Columns (0.000813)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000262)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:57:17', 3, NULL, 1, NULL, NULL, '2008-06-03 14:57:17')[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000562)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000219)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:57:17) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000281)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000105)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000138)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000311)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000278)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000169)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000285)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000124)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000118)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000152)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:57:17) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000114)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000237)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000239)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:57:17', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:57:17', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000167)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:57:17', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:57:17')[0m
  [4;35;1mSQL (0.000388)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000203)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:57:17) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00759)
Rendered auth/_mini_auth_form (0.00081)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7156d98 @filter=#<Proc:0xb766b540@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01548 (64 reqs/sec) | Rendering: 0.01075 (69%) | DB: 0.00161 (10%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000129)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000141)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000083)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:57:17) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000246)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00175)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71571f8 @filter=#<Proc:0xb7668a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00604 (165 reqs/sec) | Rendering: 0.00495 (81%) | DB: 0.00065 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000132)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000085)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:57:17) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000127)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00178)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7157658 @filter=#<Proc:0xb7668a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00589 (169 reqs/sec) | Rendering: 0.00495 (84%) | DB: 0.00039 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000147)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000291)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.01110 (90 reqs/sec) | Rendering: 0.00556 (50%) | DB: 0.00050 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000094)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000112)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00178)
Rendered auth/_mini_auth_form (0.00098)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7157b08 @filter=#<Proc:0xb7668a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00607 (164 reqs/sec) | Rendering: 0.00519 (85%) | DB: 0.00044 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:57:18) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000109)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7157658 @filter=#<Proc:0xb7668a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00522 (191 reqs/sec) | Rendering: 0.00445 (85%) | DB: 0.00030 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000193)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:57:18) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000171)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.016370)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:57:18) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000089)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000087)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000112)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:57:18) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000110)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000154)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:57:18) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:57:18) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000134)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000076)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000088)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000186)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000132)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000086)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:57:18) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000101)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000066)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000216)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:57:18) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000232)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00586 (170 reqs/sec) | DB: 0.01992 (339%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000205)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000321)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001041)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000192)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:57:18) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000210)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000181)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000173)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000157)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;36;1mAttr Load (0.000177)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.000164)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;36;1mAttr Load (0.000071)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.000126)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000252)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000161)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;36;1mStructureTemplate Destroy (0.000141)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;35;1mRelationshipType Load (0.000394)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.000154)[0m   [0;1m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01289 (77 reqs/sec) | DB: 0.00412 (31%) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000144)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000389)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mSQL (0.000116)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000266)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00522 (191 reqs/sec) | Rendering: 0.00421 (80%) | DB: 0.00103 (19%) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.000141)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00386 (259 reqs/sec) | Rendering: 0.00369 (95%) | DB: 0.00019 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.000126)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:57:18) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000258)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.000263)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000161)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mSQL (0.000143)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000074)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.000632)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.000186)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00093)
Completed in 0.01251 (79 reqs/sec) | Rendering: 0.00995 (79%) | DB: 0.00190 (15%) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000115)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:57:18) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.000100)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Update (0.000179)[0m   [0mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00220 (453 reqs/sec) | DB: 0.00044 (20%) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.000149)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000116)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000338)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000534)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000159)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000149)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:58:57) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000110)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000058)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000376)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000235)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000285)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000188)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01272 (78 reqs/sec) | DB: 0.00277 (21%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000261)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000429)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000079)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000213)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000214)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000080)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000071)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:58:57) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000141)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000071)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000080)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000212)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000248)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000122)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00389 (257 reqs/sec) | DB: 0.00222 (57%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000158)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000386)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000108)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000073)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000203)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000098)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000459)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00390 (256 reqs/sec) | Rendering: 0.00007 (1%) | DB: 0.00165 (42%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.001105)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000066)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000089)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000552)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00315)
Completed in 0.01268 (78 reqs/sec) | Rendering: 0.01116 (88%) | DB: 0.00198 (15%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000150)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000234)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000083)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000085)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000128)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000105)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000084)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00402 (248 reqs/sec) | Rendering: 0.00007 (1%) | DB: 0.00093 (23%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:58:57) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"attrs", "attr"=>{}}
  [4;36;1mSQL (0.000121)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000145)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:58:57) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000257)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:58:57', NULL, 1, NULL, NULL, '2008-06-03 14:58:57')[0m
  [4;36;1mDocument::Version Columns (0.000869)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000223)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:58:57', 3, NULL, 1, NULL, NULL, '2008-06-03 14:58:57')[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000159)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:58:57) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000278)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000102)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000133)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000260)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000182)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000265)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000158)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000114)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000145)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:58:57) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000141)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000249)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000310)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:58:57', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:58:57', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000241)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:58:57', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:58:57')[0m
  [4;35;1mSQL (0.000547)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000148)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:58:57) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00736)
Rendered auth/_mini_auth_form (0.00082)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719ad04 @filter=#<Proc:0xb76af72c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01482 (67 reqs/sec) | Rendering: 0.01041 (70%) | DB: 0.00188 (12%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000138)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000163)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000112)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:58:57) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000276)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00092)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719b1c8 @filter=#<Proc:0xb76ace3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00702 (142 reqs/sec) | Rendering: 0.00583 (83%) | DB: 0.00076 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000137)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000096)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000111)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719b628 @filter=#<Proc:0xb76ace3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00567 (176 reqs/sec) | Rendering: 0.00481 (84%) | DB: 0.00040 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000127)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000240)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00140)
Completed in 0.01184 (84 reqs/sec) | Rendering: 0.00783 (66%) | DB: 0.00042 (3%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000219)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000071)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000112)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000118)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00088)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719ba9c @filter=#<Proc:0xb76ace3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00563 (177 reqs/sec) | Rendering: 0.00477 (84%) | DB: 0.00057 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000133)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:58:57) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000132)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00172)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719b628 @filter=#<Proc:0xb76ace3c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00628 (159 reqs/sec) | Rendering: 0.00451 (71%) | DB: 0.00031 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000164)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000229)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:58:57) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000111)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:58:57) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000106)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000163)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000113)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000113)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000109)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:58:57) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000166)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:58:57) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000154)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000087)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:58:57) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000087)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000097)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000092)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000095)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:58:57) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000086)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:58:57) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000231)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00552 (181 reqs/sec) | DB: 0.00360 (65%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000183)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000333)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000158)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:58:57) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000241)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000169)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000321)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000254)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;36;1mAttr Load (0.000272)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.000216)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;36;1mAttr Load (0.000102)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.000200)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000303)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000158)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;36;1mStructureTemplate Destroy (0.000124)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;35;1mRelationshipType Load (0.000407)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.000154)[0m   [0;1m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01512 (66 reqs/sec) | DB: 0.00365 (24%) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000173)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000734)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mSQL (0.000074)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000075)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000231)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00049)
Completed in 0.00585 (170 reqs/sec) | Rendering: 0.00402 (68%) | DB: 0.00134 (22%) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00049)
Completed in 0.00379 (263 reqs/sec) | Rendering: 0.00363 (95%) | DB: 0.00020 (5%) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:58:57) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000249)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.000393)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.001631)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mSQL (0.000394)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000196)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.000899)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.000242)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00098)
Completed in 0.01534 (65 reqs/sec) | Rendering: 0.01052 (68%) | DB: 0.00418 (27%) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:58:58) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.000106)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Update (0.000175)[0m   [0mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00215 (465 reqs/sec) | DB: 0.00048 (22%) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.000106)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000143)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000370)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000540)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000187)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000165)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000202)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 14:59:57) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000111)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000060)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000313)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000216)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000282)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000208)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.02849 (35 reqs/sec) | DB: 0.00285 (9%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000258)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.001141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000172)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000062)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000057)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 14:59:58) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000096)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000064)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000063)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000155)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000206)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000125)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00354 (282 reqs/sec) | DB: 0.00262 (74%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000478)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000124)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000086)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000078)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000128)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000068)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000340)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00404 (247 reqs/sec) | Rendering: 0.00008 (2%) | DB: 0.00159 (39%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000147)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000087)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000087)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000133)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000078)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00306)
Completed in 0.01187 (84 reqs/sec) | Rendering: 0.01068 (89%) | DB: 0.00060 (5%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000277)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000073)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000076)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000112)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000086)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000064)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00296 (337 reqs/sec) | Rendering: 0.00007 (2%) | DB: 0.00089 (30%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000117)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000078)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000073)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000058)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 14:59:58) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000130)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000092)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000086)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000364)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000248)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00420 (238 reqs/sec) | Rendering: 0.00005 (1%) | DB: 0.00129 (30%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000426)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000504)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 14:59:58) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000242)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:59:58', NULL, 1, NULL, NULL, '2008-06-03 14:59:58')[0m
  [4;36;1mDocument::Version Columns (0.000819)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000240)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:59:58', 3, NULL, 1, NULL, NULL, '2008-06-03 14:59:58')[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 14:59:58) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000251)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000100)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000132)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000423)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000317)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000170)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000296)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000145)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000119)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 14:59:58) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000133)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000225)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000250)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 14:59:58', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 14:59:58', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000206)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 14:59:58', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 14:59:58')[0m
  [4;35;1mSQL (0.000374)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000161)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 14:59:58) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00769)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7109a84 @filter=#<Proc:0xb761e740@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01543 (64 reqs/sec) | Rendering: 0.01102 (71%) | DB: 0.00161 (10%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000139)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000088)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 14:59:58) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000250)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00088)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7109f5c @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00584 (171 reqs/sec) | Rendering: 0.00480 (82%) | DB: 0.00067 (11%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000120)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000082)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000157)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00172)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb710a3bc @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00580 (172 reqs/sec) | Rendering: 0.00489 (84%) | DB: 0.00041 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000133)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000126)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000275)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00047)
Completed in 0.00959 (104 reqs/sec) | Rendering: 0.00544 (56%) | DB: 0.00053 (5%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000145)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000083)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000147)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00177)
Rendered auth/_mini_auth_form (0.00093)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb710a81c @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00611 (163 reqs/sec) | Rendering: 0.00512 (83%) | DB: 0.00049 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 14:59:58) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000109)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00095)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb710a3bc @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00534 (187 reqs/sec) | Rendering: 0.00455 (85%) | DB: 0.00030 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000174)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000071)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000206)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 14:59:58) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 14:59:58) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000090)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000075)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000078)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000087)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 14:59:58) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000218)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 14:59:58) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000149)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000081)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 14:59:58) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000106)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000080)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000094)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 14:59:58) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000185)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 14:59:58) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000228)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00565 (177 reqs/sec) | DB: 0.00354 (62%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000185)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000343)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001054)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000215)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 14:59:58) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000223)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000217)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000175)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.001111)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;36;1mAttr Load (0.000319)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.001755)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;36;1mAttr Load (0.000333)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.000164)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000294)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000157)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;36;1mStructureTemplate Destroy (0.000106)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;35;1mRelationshipType Load (0.000384)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.000149)[0m   [0;1m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01679 (59 reqs/sec) | DB: 0.00718 (42%) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000149)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000422)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000215)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00052)
Completed in 0.00489 (204 reqs/sec) | Rendering: 0.00403 (82%) | DB: 0.00105 (21%) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00389 (257 reqs/sec) | Rendering: 0.00373 (95%) | DB: 0.00017 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.000108)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 14:59:58) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000263)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.000286)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000243)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mSQL (0.000218)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000082)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.000768)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.000224)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00096)
Completed in 0.01262 (79 reqs/sec) | Rendering: 0.00958 (75%) | DB: 0.00224 (17%) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000147)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 14:59:58) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.000101)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Update (0.000202)[0m   [0mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00230 (434 reqs/sec) | DB: 0.00050 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.001142)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.001436)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000315)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000369)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000277)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 15:01:27) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000133)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000060)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000303)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000162)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000215)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000134)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01085 (92 reqs/sec) | DB: 0.00472 (43%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000159)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000631)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000188)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000405)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000087)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000068)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 15:01:27) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000113)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000068)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000116)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000202)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000284)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000140)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00431 (231 reqs/sec) | DB: 0.00252 (58%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000177)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000413)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000099)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000093)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000068)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000104)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000069)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000289)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00414 (241 reqs/sec) | Rendering: 0.00008 (1%) | DB: 0.00143 (34%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000109)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000076)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000067)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000146)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000084)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00358)
Completed in 0.01435 (69 reqs/sec) | Rendering: 0.01300 (90%) | DB: 0.00054 (3%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000155)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000239)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000097)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000377)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000120)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000116)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000101)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00344 (290 reqs/sec) | Rendering: 0.00009 (2%) | DB: 0.00126 (36%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000116)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000080)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000073)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000147)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 15:01:27) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000099)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000068)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000076)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000358)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000234)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00420 (238 reqs/sec) | Rendering: 0.00006 (1%) | DB: 0.00131 (31%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000416)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000184)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 15:01:27) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000257)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 15:01:27', NULL, 1, NULL, NULL, '2008-06-03 15:01:27')[0m
  [4;36;1mDocument::Version Columns (0.000936)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000411)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 15:01:27', 3, NULL, 1, NULL, NULL, '2008-06-03 15:01:27')[0m
  [4;36;1mSQL (0.000363)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000210)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 15:01:27) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000799)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000177)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000210)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000387)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000087)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000337)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000165)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000300)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000164)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000128)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 15:01:27) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000115)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000156)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 15:01:27) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.016754)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000354)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000310)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 15:01:27', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 15:01:28', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000338)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 15:01:28', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 15:01:27')[0m
  [4;35;1mSQL (0.001383)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000159)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 15:01:28) [POST]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00749)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb716c878 @filter=#<Proc:0xb7681548@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01635 (61 reqs/sec) | Rendering: 0.01084 (66%) | DB: 0.01957 (119%) | 200 OK [http://test.host/projects?]
  [4;36;1mSQL (0.000132)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000072)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 15:01:28) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000232)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00095)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb716cd28 @filter=#<Proc:0xb767eaa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00690 (144 reqs/sec) | Rendering: 0.00589 (85%) | DB: 0.00057 (8%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000140)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000131)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000146)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00178)
Rendered auth/_mini_auth_form (0.00103)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb716d1b0 @filter=#<Proc:0xb767eaa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00649 (154 reqs/sec) | Rendering: 0.00542 (83%) | DB: 0.00047 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000254)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00046)
Completed in 0.01021 (97 reqs/sec) | Rendering: 0.00525 (51%) | DB: 0.00045 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000132)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000080)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000108)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00098)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb716d610 @filter=#<Proc:0xb767eaa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00580 (172 reqs/sec) | Rendering: 0.00493 (84%) | DB: 0.00042 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 15:01:28) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000123)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.06809)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb716d1b0 @filter=#<Proc:0xb767eaa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.07174 (13 reqs/sec) | Rendering: 0.07094 (98%) | DB: 0.00031 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 15:01:28) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000194)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000091)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 15:01:28) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000147)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000261)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000091)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000088)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;36;1mSQL (0.000105)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000077)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 15:01:28) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000099)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000148)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 15:01:28) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;35;1mSQL (0.000145)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000072)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 15:01:28) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000119)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000092)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;36;1mSQL (0.000098)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000079)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000063)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 15:01:28) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;36;1mSQL (0.000105)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000193)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 15:01:28) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Create (0.000244)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00550 (181 reqs/sec) | DB: 0.00383 (69%) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.000204)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000325)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000152)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 15:01:28) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000261)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000235)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000167)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000151)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;36;1mAttr Load (0.000183)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.000163)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;36;1mAttr Load (0.000187)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.000119)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000234)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000115)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;36;1mStructureTemplate Destroy (0.000099)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;35;1mRelationshipType Load (0.000416)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.000165)[0m   [0;1m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01374 (72 reqs/sec) | DB: 0.00323 (23%) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000227)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000498)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mSQL (0.000111)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000211)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00491 (203 reqs/sec) | Rendering: 0.00407 (82%) | DB: 0.00116 (23%) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.000131)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00383 (260 reqs/sec) | Rendering: 0.00367 (95%) | DB: 0.00018 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.000104)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 15:01:28) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000298)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.000242)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000157)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mSQL (0.000153)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.000068)[0m   [0mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.000606)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.000167)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00095)
Completed in 0.01240 (80 reqs/sec) | Rendering: 0.00983 (79%) | DB: 0.00185 (14%) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000146)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 15:01:28) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.000135)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Update (0.000202)[0m   [0mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00238 (420 reqs/sec) | DB: 0.00054 (22%) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000319)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000532)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000215)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000205)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000182)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 15:58:56) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000113)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000068)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000332)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000188)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000233)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000201)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01225 (81 reqs/sec) | DB: 0.00275 (22%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000199)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000390)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000179)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000179)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000111)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000069)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 15:58:56) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000091)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000074)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000066)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000169)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000218)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000114)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00369 (271 reqs/sec) | DB: 0.00192 (52%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000397)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000070)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000061)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000081)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000062)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000380)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00478 (209 reqs/sec) | Rendering: 0.00009 (1%) | DB: 0.00141 (29%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000172)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000075)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000113)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000132)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000146)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000104)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00307)
Completed in 0.01194 (83 reqs/sec) | Rendering: 0.01067 (89%) | DB: 0.00074 (6%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000140)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000233)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000065)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000057)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000088)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000060)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00266 (375 reqs/sec) | Rendering: 0.00006 (2%) | DB: 0.00076 (28%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000096)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000068)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000077)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 15:58:56) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000096)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000069)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000080)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000323)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000225)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00382 (261 reqs/sec) | Rendering: 0.00005 (1%) | DB: 0.00114 (29%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000377)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 15:58:56) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000232)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 15:58:56', NULL, 1, NULL, NULL, '2008-06-03 15:58:56')[0m
  [4;36;1mDocument::Version Columns (0.000847)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000232)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 15:58:56', 3, NULL, 1, NULL, NULL, '2008-06-03 15:58:56')[0m
  [4;36;1mSQL (0.000297)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000182)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 15:58:56) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000283)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000113)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000141)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000302)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000270)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000166)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000285)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000118)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000156)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 15:58:56) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000134)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000226)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000285)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 15:58:56', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 15:58:56', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000185)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 15:58:56', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 15:58:56')[0m
  [4;35;1mSQL (0.000389)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000156)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000064)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 15:58:56) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00753)
Rendered auth/_mini_auth_form (0.00092)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719f930 @filter=#<Proc:0xb76b4740@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01535 (65 reqs/sec) | Rendering: 0.01078 (70%) | DB: 0.00170 (11%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.000142)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000085)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 15:58:56) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000235)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb719fe08 @filter=#<Proc:0xb76b1e50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00580 (172 reqs/sec) | Rendering: 0.00481 (82%) | DB: 0.00058 (9%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000137)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000085)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000098)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a0290 @filter=#<Proc:0xb76b1e50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00563 (177 reqs/sec) | Rendering: 0.00480 (85%) | DB: 0.00037 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000128)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000243)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00047)
Completed in 0.00962 (103 reqs/sec) | Rendering: 0.00531 (55%) | DB: 0.00042 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000074)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000103)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00178)
Rendered auth/_mini_auth_form (0.00090)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a06f0 @filter=#<Proc:0xb76b1e50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00577 (173 reqs/sec) | Rendering: 0.00492 (85%) | DB: 0.00042 (7%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 15:58:56) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000112)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.06420)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71a0290 @filter=#<Proc:0xb76b1e50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.06782 (14 reqs/sec) | Rendering: 0.06705 (98%) | DB: 0.00030 (0%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000153)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000197)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 15:58:56) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 15:58:56) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000103)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000073)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000084)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 15:58:56) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000081)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000156)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 15:58:56) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000077)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 15:58:56) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000082)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000082)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 15:58:56) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000079)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000192)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 15:58:56) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000228)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00582 (171 reqs/sec) | DB: 0.00316 (54%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000183)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000312)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000165)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 15:58:56) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000219)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000181)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000155)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000146)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000174)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000163)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000192)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000117)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000196)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000110)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000098)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000388)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000162)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01223 (81 reqs/sec) | DB: 0.00302 (24%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000143)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000736)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000094)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000219)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00488 (204 reqs/sec) | Rendering: 0.00398 (81%) | DB: 0.00129 (26%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00387 (258 reqs/sec) | Rendering: 0.00370 (95%) | DB: 0.00019 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000110)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 15:58:56) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000238)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000252)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000166)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000160)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000068)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000634)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000207)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00095)
Completed in 0.01168 (85 reqs/sec) | Rendering: 0.00914 (78%) | DB: 0.00188 (16%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 15:58:56) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000101)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000172)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00212 (471 reqs/sec) | DB: 0.00045 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000392)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000552)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000083)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000196)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000188)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000184)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 16:00:48) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000113)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000069)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000332)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000218)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000318)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000169)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01288 (77 reqs/sec) | DB: 0.00292 (22%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000169)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000537)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000190)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000201)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000074)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000070)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 16:00:48) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000120)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000077)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000077)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000174)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000236)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000133)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00407 (245 reqs/sec) | DB: 0.00213 (52%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000160)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000403)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 16:00:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000083)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000068)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 16:00:48) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000090)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000067)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000282)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00417 (239 reqs/sec) | Rendering: 0.00011 (2%) | DB: 0.00137 (32%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000182)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.001312)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000104)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 16:00:48) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000170)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000093)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00357)
Completed in 0.01384 (72 reqs/sec) | Rendering: 0.01241 (89%) | DB: 0.00193 (13%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000150)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000220)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000065)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000058)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 16:00:48) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000113)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000060)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00272 (367 reqs/sec) | Rendering: 0.00006 (2%) | DB: 0.00078 (28%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000102)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000070)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000063)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000062)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 16:00:48) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000089)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000057)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000060)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000322)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000233)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00369 (270 reqs/sec) | Rendering: 0.00005 (1%) | DB: 0.00111 (29%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000418)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000159)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 16:00:48) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000230)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:00:48', NULL, 1, NULL, NULL, '2008-06-03 16:00:48')[0m
  [4;36;1mDocument::Version Columns (0.000832)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000277)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:00:48', 3, NULL, 1, NULL, NULL, '2008-06-03 16:00:48')[0m
  [4;36;1mSQL (0.000290)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000178)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 16:00:48) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000260)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000102)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000134)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 16:00:48) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000290)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000242)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000282)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000111)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000210)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 16:00:49) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000125)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000232)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000236)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 16:00:48', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 16:00:49', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000179)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:00:49', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 16:00:48')[0m
  [4;35;1mSQL (0.001289)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000080)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.016480)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000077)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000045)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000046)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000069)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000045)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000069)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000046)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000079)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000045)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000077)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000051)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000188)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 16:00:49) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000111)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000073)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 16:00:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000111)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000092)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000073)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000073)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 16:00:49) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000261)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000182)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 16:00:49) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000096)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 16:00:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000116)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000086)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000098)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 16:00:49) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000086)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000211)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 16:00:49) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000269)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.07417 (13 reqs/sec) | DB: 0.00635 (8%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.001304)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000403)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000195)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 16:00:49) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000248)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000207)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000199)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000168)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000208)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000188)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000214)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000132)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000227)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000133)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000111)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.001452)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000181)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01585 (63 reqs/sec) | DB: 0.00563 (35%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000171)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000458)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000096)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000235)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00059)
Completed in 0.00616 (162 reqs/sec) | Rendering: 0.00516 (83%) | DB: 0.00108 (17%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00058)
Completed in 0.00544 (183 reqs/sec) | Rendering: 0.00526 (96%) | DB: 0.00020 (3%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000118)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 16:00:49) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000235)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000254)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000185)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000157)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000073)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000658)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00096)
Completed in 0.01164 (85 reqs/sec) | Rendering: 0.00904 (77%) | DB: 0.00191 (16%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000119)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 16:00:49) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000110)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000176)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00218 (457 reqs/sec) | DB: 0.00046 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000110)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000317)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000540)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000203)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000164)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000163)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 16:01:12) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000105)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000293)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000165)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000218)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000146)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01080 (92 reqs/sec) | DB: 0.00253 (23%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000167)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000400)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000063)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000177)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000169)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000064)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000058)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 16:01:12) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000093)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000059)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000069)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000158)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000247)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000114)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00362 (275 reqs/sec) | DB: 0.00184 (50%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000384)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000093)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000080)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000074)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000095)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000060)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000266)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00359 (278 reqs/sec) | Rendering: 0.00007 (1%) | DB: 0.00133 (37%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000113)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000069)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000058)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000087)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000056)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00306)
Completed in 0.01255 (79 reqs/sec) | Rendering: 0.01160 (92%) | DB: 0.00043 (3%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000137)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000217)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000066)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000058)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000098)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000057)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000059)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00276 (362 reqs/sec) | Rendering: 0.00006 (2%) | DB: 0.00074 (26%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000098)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000067)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000060)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000063)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 16:01:12) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000101)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000058)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000062)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000333)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000210)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00468 (213 reqs/sec) | Rendering: 0.00005 (1%) | DB: 0.00110 (23%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000926)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000199)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 16:01:12) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000228)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:01:12', NULL, 1, NULL, NULL, '2008-06-03 16:01:12')[0m
  [4;36;1mDocument::Version Columns (0.000804)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000214)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:01:12', 3, NULL, 1, NULL, NULL, '2008-06-03 16:01:12')[0m
  [4;36;1mSQL (0.000294)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000171)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 16:01:12) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000244)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000101)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000132)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000293)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000282)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000161)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000261)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000151)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000120)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000105)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000206)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 16:01:12) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000126)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000229)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000233)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 16:01:12', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 16:01:12', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000183)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:01:12', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 16:01:12')[0m
  [4;35;1mSQL (0.000342)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000076)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.000077)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000057)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000071)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000045)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000087)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000053)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000045)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000070)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000045)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000046)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000046)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000093)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000075)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.000046)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000189)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 16:01:12) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000082)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 16:01:12) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000101)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 16:01:12) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000092)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000099)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000085)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 16:01:13) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000083)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000192)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 16:01:13) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000103)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000081)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 16:01:13) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000052)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000081)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000079)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000047)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000071)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000074)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 16:01:13) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000077)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000191)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 16:01:13) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000274)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.06712 (14 reqs/sec) | DB: 0.00521 (7%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.001155)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000337)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000171)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 16:01:13) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000228)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000225)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000170)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000160)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000181)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000167)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000191)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000123)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000211)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000113)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000102)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.001113)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000158)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01392 (71 reqs/sec) | DB: 0.00486 (34%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000160)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000378)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000085)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000217)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00488 (204 reqs/sec) | Rendering: 0.00401 (82%) | DB: 0.00095 (19%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000128)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00388 (257 reqs/sec) | Rendering: 0.00371 (95%) | DB: 0.00018 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000982)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 16:01:13) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000238)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000262)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000211)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000153)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000080)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000652)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000169)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00096)
Completed in 0.01200 (83 reqs/sec) | Rendering: 0.00940 (78%) | DB: 0.00280 (23%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000119)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 16:01:13) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000114)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000176)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00221 (452 reqs/sec) | DB: 0.00046 (20%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000134)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000316)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000531)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000160)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000160)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000166)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 16:02:30) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000108)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000060)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000292)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000180)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000238)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000155)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01162 (86 reqs/sec) | DB: 0.00253 (21%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000186)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000393)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000180)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000171)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000064)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000081)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 16:02:30) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000222)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000092)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000094)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000223)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000404)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000197)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00475 (210 reqs/sec) | DB: 0.00237 (49%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000272)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000418)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000082)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000093)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000074)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000070)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000094)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000269)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00367 (272 reqs/sec) | Rendering: 0.00007 (2%) | DB: 0.00148 (40%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000069)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000057)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000111)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000061)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00310)
Completed in 0.01173 (85 reqs/sec) | Rendering: 0.01072 (91%) | DB: 0.00047 (4%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000232)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000219)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000066)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000057)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000093)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000057)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000065)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00268 (373 reqs/sec) | Rendering: 0.00006 (2%) | DB: 0.00084 (31%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000101)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000070)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000061)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000058)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 16:02:30) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000082)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000065)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000062)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000329)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000205)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00367 (272 reqs/sec) | Rendering: 0.00005 (1%) | DB: 0.00108 (29%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000385)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000178)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 16:02:30) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000240)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:02:30', NULL, 1, NULL, NULL, '2008-06-03 16:02:30')[0m
  [4;36;1mDocument::Version Columns (0.000828)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000218)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:02:30', 3, NULL, 1, NULL, NULL, '2008-06-03 16:02:30')[0m
  [4;36;1mSQL (0.000284)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000181)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 16:02:30) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000308)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000103)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000134)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000311)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000284)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000157)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000252)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000130)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000052)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000105)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000160)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 16:02:30) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000154)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000250)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000254)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 16:02:30', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 16:02:30', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000195)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:02:30', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 16:02:30')[0m
  [4;35;1mSQL (0.009768)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000185)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000132)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.000086)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.000092)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:02:30) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00878)
Rendered auth/_mini_auth_form (0.00096)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7109854 @filter=#<Proc:0xb761e740@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01764 (56 reqs/sec) | Rendering: 0.01239 (70%) | DB: 0.01122 (63%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.000147)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000101)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000082)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:02:30) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000257)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00194)
Rendered auth/_mini_auth_form (0.00102)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb7109d04 @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00662 (151 reqs/sec) | Rendering: 0.00550 (83%) | DB: 0.00064 (9%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000132)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000125)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00244)
Rendered auth/_mini_auth_form (0.00105)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb710a1c8 @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00713 (140 reqs/sec) | Rendering: 0.00614 (86%) | DB: 0.00041 (5%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000060)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000258)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.06964)
Completed in 0.08052 (12 reqs/sec) | Rendering: 0.07594 (94%) | DB: 0.00047 (0%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000188)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000119)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00203)
Rendered auth/_mini_auth_form (0.00134)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb710a628 @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00704 (142 reqs/sec) | Rendering: 0.00605 (85%) | DB: 0.00051 (7%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000152)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000063)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:02:30) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000116)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00205)
Rendered auth/_mini_auth_form (0.00104)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb710a1c8 @filter=#<Proc:0xb761be50@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00616 (162 reqs/sec) | Rendering: 0.00526 (85%) | DB: 0.00033 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000148)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000203)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 16:02:30) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000121)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 16:02:30) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000146)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000058)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000096)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000099)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000124)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000129)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 16:02:30) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000104)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000155)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 16:02:30) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000118)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000074)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 16:02:30) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000130)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000105)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000081)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000081)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000076)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 16:02:30) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000087)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000186)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 16:02:30) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000225)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00544 (183 reqs/sec) | DB: 0.00343 (63%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000184)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000294)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 16:02:30) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000227)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000175)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000176)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000148)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000182)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000162)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000184)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000124)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000218)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000112)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000280)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000389)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000149)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01245 (80 reqs/sec) | DB: 0.00323 (25%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000419)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000094)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000234)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00049)
Completed in 0.00491 (203 reqs/sec) | Rendering: 0.00401 (81%) | DB: 0.00102 (20%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000134)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00052)
Completed in 0.00385 (259 reqs/sec) | Rendering: 0.00369 (95%) | DB: 0.00019 (4%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000369)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000072)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 16:02:30) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000263)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000238)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000154)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000139)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000076)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000628)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000164)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00094)
Completed in 0.01131 (88 reqs/sec) | Rendering: 0.00882 (77%) | DB: 0.00210 (18%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000119)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 16:02:30) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000094)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000177)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00211 (473 reqs/sec) | DB: 0.00044 (20%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000105)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000191)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000184)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000130)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000079)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:03:55) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00855)
Rendered auth/_mini_auth_form (0.00286)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ec4c74 @filter=#<Proc:0xb76432c0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02106 (47 reqs/sec) | Rendering: 0.01662 (78%) | DB: 0.00054 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000129)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000152)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000075)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:03:55) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000236)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00199)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ec5098 @filter=#<Proc:0xb764082c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00664 (150 reqs/sec) | Rendering: 0.00554 (83%) | DB: 0.00065 (9%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000137)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000106)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:03:55) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000098)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ec54bc @filter=#<Proc:0xb764082c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00651 (153 reqs/sec) | Rendering: 0.00553 (85%) | DB: 0.00040 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:03:55) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000273)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00053)
Completed in 0.01163 (85 reqs/sec) | Rendering: 0.00661 (56%) | DB: 0.00047 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000156)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 16:03:55) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000056)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:03:55) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000126)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00105)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ec58e0 @filter=#<Proc:0xb764082c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00655 (152 reqs/sec) | Rendering: 0.00556 (84%) | DB: 0.00051 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000141)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:03:55) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000117)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00194)
Rendered auth/_mini_auth_form (0.00099)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ec54bc @filter=#<Proc:0xb764082c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00589 (169 reqs/sec) | Rendering: 0.00503 (85%) | DB: 0.00032 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000176)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000193)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000164)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000078)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:04:17) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00867)
Rendered auth/_mini_auth_form (0.00282)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6eabc74 @filter=#<Proc:0xb762a2c0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02113 (47 reqs/sec) | Rendering: 0.01669 (78%) | DB: 0.00052 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000131)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000138)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000067)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:04:17) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000225)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6eac098 @filter=#<Proc:0xb762782c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00581 (172 reqs/sec) | Rendering: 0.00482 (82%) | DB: 0.00061 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000113)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000092)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:04:17) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000092)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6eac4bc @filter=#<Proc:0xb762782c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00559 (178 reqs/sec) | Rendering: 0.00475 (84%) | DB: 0.00035 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000185)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:04:17) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000233)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00048)
Completed in 0.01020 (98 reqs/sec) | Rendering: 0.00619 (60%) | DB: 0.00048 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000135)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 16:04:17) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;36;1mSQL (0.000080)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:04:17) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000109)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00172)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6eac8e0 @filter=#<Proc:0xb762782c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00573 (174 reqs/sec) | Rendering: 0.00487 (84%) | DB: 0.00042 (7%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000122)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:04:17) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000094)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00086)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6eac4bc @filter=#<Proc:0xb762782c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00513 (194 reqs/sec) | Rendering: 0.00439 (85%) | DB: 0.00028 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000123)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000171)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000205)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000170)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000077)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000069)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:05:10) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00965)
Rendered auth/_mini_auth_form (0.00289)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f44d84 @filter=#<Proc:0xb76c32e0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02263 (44 reqs/sec) | Rendering: 0.01799 (79%) | DB: 0.00060 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000140)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000213)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000080)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:05:10) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000254)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00212)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f451a8 @filter=#<Proc:0xb76c09f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00696 (143 reqs/sec) | Rendering: 0.00584 (83%) | DB: 0.00075 (10%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000100)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:05:10) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000124)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f455cc @filter=#<Proc:0xb76c09f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00653 (153 reqs/sec) | Rendering: 0.00553 (84%) | DB: 0.00086 (13%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000138)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000148)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:05:10) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000273)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00053)
Completed in 0.01132 (88 reqs/sec) | Rendering: 0.00663 (58%) | DB: 0.00056 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000140)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing ProjectsController#new (for 0.0.0.0 at 2008-06-03 16:05:10) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"projects"}
  [4;35;1mSQL (0.000081)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:05:10) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000199)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f459f0 @filter=#<Proc:0xb76c09f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00664 (150 reqs/sec) | Rendering: 0.00557 (83%) | DB: 0.00054 (8%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000154)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:05:10) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000115)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00195)
Rendered auth/_mini_auth_form (0.00098)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f455cc @filter=#<Proc:0xb76c09f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00590 (169 reqs/sec) | Rendering: 0.00504 (85%) | DB: 0.00034 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000157)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000185)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000171)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000084)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000070)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:05:28) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00865)
Rendered auth/_mini_auth_form (0.00320)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f33db8 @filter=#<Proc:0xb76b2530@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02162 (46 reqs/sec) | Rendering: 0.01718 (79%) | DB: 0.00052 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000080)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:05:28) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000256)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f341dc @filter=#<Proc:0xb76afa88@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00664 (150 reqs/sec) | Rendering: 0.00552 (83%) | DB: 0.00072 (10%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000126)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000111)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:05:28) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000120)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00102)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f34600 @filter=#<Proc:0xb76afa88@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00649 (154 reqs/sec) | Rendering: 0.00551 (84%) | DB: 0.00042 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000137)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:05:28) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000255)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00055)
Completed in 0.01179 (84 reqs/sec) | Rendering: 0.00679 (57%) | DB: 0.00045 (3%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000146)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:05:28) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000107)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00198)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f34a24 @filter=#<Proc:0xb76afa88@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00648 (154 reqs/sec) | Rendering: 0.00549 (84%) | DB: 0.00031 (4%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000129)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:05:28) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000140)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00195)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f34600 @filter=#<Proc:0xb76afa88@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00596 (167 reqs/sec) | Rendering: 0.00506 (84%) | DB: 0.00033 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000142)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000157)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000079)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:06:15) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00857)
Rendered auth/_mini_auth_form (0.00278)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ef2e08 @filter=#<Proc:0xb76715f8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02104 (47 reqs/sec) | Rendering: 0.01658 (78%) | DB: 0.00048 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000128)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000139)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000068)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mPerson Load (0.000065)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:06:15) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000425)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00175)
Rendered auth/_mini_auth_form (0.00086)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ef322c @filter=#<Proc:0xb766ecb8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00613 (163 reqs/sec) | Rendering: 0.00488 (79%) | DB: 0.00081 (13%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000122)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000090)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:06:15) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000102)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ef3650 @filter=#<Proc:0xb766ecb8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00568 (175 reqs/sec) | Rendering: 0.00481 (84%) | DB: 0.00036 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:06:15) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000223)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00046)
Completed in 0.00986 (101 reqs/sec) | Rendering: 0.00587 (59%) | DB: 0.00041 (4%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000142)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:06:15) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000095)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00092)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ef3a74 @filter=#<Proc:0xb766ecb8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00566 (176 reqs/sec) | Rendering: 0.00481 (85%) | DB: 0.00029 (5%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000119)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:06:15) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000123)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ef3650 @filter=#<Proc:0xb766ecb8@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00523 (191 reqs/sec) | Rendering: 0.00439 (84%) | DB: 0.00030 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000124)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000168)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000158)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000077)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000069)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000731)[0m   [0;1mSHOW FIELDS FROM `people`[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:07:08) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00881)
Rendered auth/_mini_auth_form (0.00283)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f70cf4 @filter=#<Proc:0xb76ef408@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02188 (45 reqs/sec) | Rendering: 0.01718 (78%) | DB: 0.00048 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.000145)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mPerson Load (0.000068)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:07:08) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000233)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00173)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f71118 @filter=#<Proc:0xb76ec7d0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00591 (169 reqs/sec) | Rendering: 0.00489 (82%) | DB: 0.00064 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000129)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000089)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:07:08) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000176)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f7153c @filter=#<Proc:0xb76ec7d0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00573 (174 reqs/sec) | Rendering: 0.00479 (83%) | DB: 0.00044 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000090)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:07:08) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000243)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00046)
Completed in 0.00988 (101 reqs/sec) | Rendering: 0.00586 (59%) | DB: 0.00046 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:07:08) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000099)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f71960 @filter=#<Proc:0xb76ec7d0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00561 (178 reqs/sec) | Rendering: 0.00477 (84%) | DB: 0.00029 (5%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000128)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:07:08) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000098)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f7153c @filter=#<Proc:0xb76ec7d0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00517 (193 reqs/sec) | Rendering: 0.00439 (84%) | DB: 0.00028 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000125)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000319)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000670)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000046)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000165)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000158)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000165)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 16:15:14) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000106)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000059)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000299)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000169)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000211)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000139)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01085 (92 reqs/sec) | DB: 0.00262 (24%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000154)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000378)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000067)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000173)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000169)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000066)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000088)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 16:15:14) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000094)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000056)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000061)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000154)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000207)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000131)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00364 (274 reqs/sec) | DB: 0.00180 (49%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000181)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.000438)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 16:15:14) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000101)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000083)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000075)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 16:15:14) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000095)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000069)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000315)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00420 (237 reqs/sec) | Rendering: 0.00008 (1%) | DB: 0.00148 (35%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000111)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000076)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000065)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 16:15:14) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000099)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.001018)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00368)
Completed in 0.01466 (68 reqs/sec) | Rendering: 0.01258 (85%) | DB: 0.00142 (9%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000149)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000233)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000072)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000065)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 16:15:14) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000107)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000066)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000075)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00417 (239 reqs/sec) | Rendering: 0.00007 (1%) | DB: 0.00082 (19%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000122)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000079)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000069)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000066)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 16:15:14) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000093)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000076)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000070)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000365)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000227)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00433 (230 reqs/sec) | Rendering: 0.00006 (1%) | DB: 0.00123 (28%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000396)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000198)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 16:15:14) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000254)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:15:14', NULL, 1, NULL, NULL, '2008-06-03 16:15:14')[0m
  [4;36;1mDocument::Version Columns (0.000992)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000249)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:15:14', 3, NULL, 1, NULL, NULL, '2008-06-03 16:15:14')[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000176)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 16:15:15) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000427)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000114)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000140)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.001354)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000050)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000307)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000167)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000051)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.000255)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.000136)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000183)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000160)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 16:15:15) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.000175)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000303)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000318)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 16:15:14', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 16:15:15', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000278)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:15:15', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 16:15:14')[0m
  [4;35;1mSQL (0.000462)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000198)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000090)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.000153)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.000105)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.000926)[0m   [0mSHOW FIELDS FROM `people`[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:15:15) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00797)
Rendered auth/_mini_auth_form (0.00102)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711f76c @filter=#<Proc:0xb7634540@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.01650 (60 reqs/sec) | Rendering: 0.01158 (70%) | DB: 0.00211 (12%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000166)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000109)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mPerson Load (0.000103)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:15:15) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000310)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00181)
Rendered auth/_mini_auth_form (0.00101)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb711fc44 @filter=#<Proc:0xb7631a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00644 (155 reqs/sec) | Rendering: 0.00526 (81%) | DB: 0.00081 (12%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000160)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00185)
Rendered auth/_mini_auth_form (0.00108)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71200cc @filter=#<Proc:0xb7631a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00648 (154 reqs/sec) | Rendering: 0.00545 (84%) | DB: 0.00053 (8%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000165)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000081)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000306)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00059)
Completed in 0.07890 (12 reqs/sec) | Rendering: 0.07440 (94%) | DB: 0.00055 (0%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000183)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000149)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00192)
Rendered auth/_mini_auth_form (0.00104)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb712052c @filter=#<Proc:0xb7631a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00650 (153 reqs/sec) | Rendering: 0.00548 (84%) | DB: 0.00040 (6%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000168)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:15:15) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000147)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00197)
Rendered auth/_mini_auth_form (0.00109)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71200cc @filter=#<Proc:0xb7631a98@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00608 (164 reqs/sec) | Rendering: 0.00516 (84%) | DB: 0.00038 (6%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000156)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000073)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000223)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 16:15:15) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000167)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000091)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 16:15:15) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000275)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000123)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000122)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000150)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000088)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000158)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000092)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000082)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 16:15:15) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000236)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 16:15:15) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000154)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000156)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 16:15:15) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000183)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000070)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000093)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000098)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000082)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000089)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000064)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 16:15:15) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000092)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000050)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000183)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 16:15:15) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000217)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00539 (185 reqs/sec) | DB: 0.00425 (78%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000180)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000354)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000071)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000151)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 16:15:15) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000202)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000174)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000151)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000148)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000192)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000167)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000234)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.000125)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000207)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000116)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000103)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.000397)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000169)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.01239 (80 reqs/sec) | DB: 0.00314 (25%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000169)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000426)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000084)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000206)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.00482 (207 reqs/sec) | Rendering: 0.00399 (82%) | DB: 0.00101 (20%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000121)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001079)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00384 (260 reqs/sec) | Rendering: 0.00367 (95%) | DB: 0.00120 (31%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000117)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000051)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 16:15:15) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000249)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000251)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000152)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000141)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000068)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000627)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000166)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00094)
Completed in 0.01128 (88 reqs/sec) | Rendering: 0.00881 (78%) | DB: 0.00182 (16%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000118)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000059)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 16:15:15) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000117)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000171)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00220 (454 reqs/sec) | DB: 0.00046 (21%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000114)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000181)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000170)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000079)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000088)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000758)[0m   [0;1mSHOW FIELDS FROM `people`[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:15:18) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00959)
Rendered auth/_mini_auth_form (0.00280)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f8dd90 @filter=#<Proc:0xb770c454@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02220 (45 reqs/sec) | Rendering: 0.01764 (79%) | DB: 0.00051 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.000123)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000141)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mPerson Load (0.000064)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:15:18) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000241)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00171)
Rendered auth/_mini_auth_form (0.00088)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f8e1b4 @filter=#<Proc:0xb77099c0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00582 (171 reqs/sec) | Rendering: 0.00481 (82%) | DB: 0.00062 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000120)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000097)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000059)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:15:18) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000100)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00086)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f8e5d8 @filter=#<Proc:0xb77099c0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00558 (179 reqs/sec) | Rendering: 0.00473 (84%) | DB: 0.00038 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000136)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:15:18) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000276)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00049)
Completed in 0.01040 (96 reqs/sec) | Rendering: 0.00632 (60%) | DB: 0.00046 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000143)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:15:18) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000124)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00091)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f8e9fc @filter=#<Proc:0xb77099c0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00570 (175 reqs/sec) | Rendering: 0.00480 (84%) | DB: 0.00032 (5%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000116)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:15:18) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000110)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f8e5d8 @filter=#<Proc:0xb77099c0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00518 (193 reqs/sec) | Rendering: 0.00441 (85%) | DB: 0.00028 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000124)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000179)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000161)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000079)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000071)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000732)[0m   [0;1mSHOW FIELDS FROM `people`[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:17:31) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00941)
Rendered auth/_mini_auth_form (0.00281)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ee0e60 @filter=#<Proc:0xb765f510@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02193 (45 reqs/sec) | Rendering: 0.01749 (79%) | DB: 0.00049 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.000110)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000146)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mPerson Load (0.000065)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:17:31) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000247)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ee1284 @filter=#<Proc:0xb765ca68@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00586 (170 reqs/sec) | Rendering: 0.00484 (82%) | DB: 0.00062 (10%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000127)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000090)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:17:31) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000099)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00168)
Rendered auth/_mini_auth_form (0.00479)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ee16a8 @filter=#<Proc:0xb765ca68@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00959 (104 reqs/sec) | Rendering: 0.00873 (91%) | DB: 0.00036 (3%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000185)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:17:31) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000234)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00048)
Completed in 0.00987 (101 reqs/sec) | Rendering: 0.00588 (59%) | DB: 0.00049 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000134)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:17:31) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000114)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00099)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ee1acc @filter=#<Proc:0xb765ca68@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00748 (133 reqs/sec) | Rendering: 0.00652 (87%) | DB: 0.00030 (4%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000131)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000062)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:17:31) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000109)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00193)
Rendered auth/_mini_auth_form (0.00105)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ee16a8 @filter=#<Proc:0xb765ca68@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00598 (167 reqs/sec) | Rendering: 0.00514 (85%) | DB: 0.00030 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000105)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000064)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000183)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000161)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.000079)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000743)[0m   [0;1mSHOW FIELDS FROM `people`[0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:17:56) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
Rendering template within layouts/application
Rendered auth/_auth_form (0.00858)
Rendered auth/_mini_auth_form (0.00280)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f09dec @filter=#<Proc:0xb7688438@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:319>>] rendered_or_redirected.
Completed in 0.02106 (47 reqs/sec) | Rendering: 0.01662 (78%) | DB: 0.00051 (2%) | 200 OK [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mPerson Load (0.000138)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000092)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000230)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000049)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000068)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:17:56) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000240)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00170)
Rendered auth/_mini_auth_form (0.00087)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0a210 @filter=#<Proc:0xb7685990@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00582 (171 reqs/sec) | Rendering: 0.00480 (82%) | DB: 0.00068 (11%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000123)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000088)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000048)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:17:56) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000106)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00178)
Rendered auth/_mini_auth_form (0.00089)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0a634 @filter=#<Proc:0xb7685990@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00584 (171 reqs/sec) | Rendering: 0.00498 (85%) | DB: 0.00037 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000264)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000113)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:17:56) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000270)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00047)
Completed in 0.00949 (105 reqs/sec) | Rendering: 0.00529 (55%) | DB: 0.00065 (6%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000139)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:17:56) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000100)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00169)
Rendered auth/_mini_auth_form (0.00085)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0aa58 @filter=#<Proc:0xb7685990@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00557 (179 reqs/sec) | Rendering: 0.00472 (84%) | DB: 0.00029 (5%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000126)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:17:56) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000107)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00188)
Rendered auth/_mini_auth_form (0.00086)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0a634 @filter=#<Proc:0xb7685990@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00540 (185 reqs/sec) | Rendering: 0.00460 (85%) | DB: 0.00029 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000130)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000177)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000078)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.000720)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.000098)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mPerson Load (0.000062)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:19:17) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000248)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00872)
Rendered auth/_mini_auth_form (0.00330)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6e941f0 @filter=#<Proc:0xb760fab0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.02449 (40 reqs/sec) | Rendering: 0.01928 (78%) | DB: 0.00079 (3%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000140)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000144)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000230)[0m   [0mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:19:17) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000124)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00197)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6e94614 @filter=#<Proc:0xb760fab0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00650 (153 reqs/sec) | Rendering: 0.00549 (84%) | DB: 0.00064 (9%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000139)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:19:17) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.000257)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00053)
Completed in 0.01131 (88 reqs/sec) | Rendering: 0.00665 (58%) | DB: 0.00046 (4%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000148)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:19:17) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000118)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00196)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6e94a38 @filter=#<Proc:0xb760fab0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00649 (154 reqs/sec) | Rendering: 0.00550 (84%) | DB: 0.00033 (5%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.000157)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000065)[0m   [0;1mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:19:17) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000118)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00194)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6e94614 @filter=#<Proc:0xb760fab0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00590 (169 reqs/sec) | Rendering: 0.00504 (85%) | DB: 0.00034 (5%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000133)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000186)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000080)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.000730)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mTemplateSchema Load (0.000208)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:20:05) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000105)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000214)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000780)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000222)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 3, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000121)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 3, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000124)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 3, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/3
Completed in 0.03140 (31 reqs/sec) | DB: 0.00202 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000285)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.110282)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000203)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mPerson Load (0.000077)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:20:05) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000243)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00980)
Rendered auth/_mini_auth_form (0.00361)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f42110 @filter=#<Proc:0xb76bd714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.02517 (39 reqs/sec) | Rendering: 0.01933 (76%) | DB: 0.11109 (441%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000141)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000132)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:20:05) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000127)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00199)
Rendered auth/_mini_auth_form (0.00100)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f42534 @filter=#<Proc:0xb76bd714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00656 (152 reqs/sec) | Rendering: 0.00555 (84%) | DB: 0.00046 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000145)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:20:05) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000240)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
Rendered auth/_mini_auth_form (0.00079)
Completed in 0.00662 (151 reqs/sec) | Rendering: 0.00550 (83%) | DB: 0.00045 (6%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.000143)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:20:05) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000113)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00195)
Rendered auth/_mini_auth_form (0.00103)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f42958 @filter=#<Proc:0xb76bd714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00653 (153 reqs/sec) | Rendering: 0.00555 (84%) | DB: 0.00032 (4%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000149)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:20:05) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000112)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.00195)
Rendered auth/_mini_auth_form (0.00099)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f42534 @filter=#<Proc:0xb76bd714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.00589 (169 reqs/sec) | Rendering: 0.00503 (85%) | DB: 0.00033 (5%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000137)[0m   [0mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000108)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000080)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000748)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000187)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000167)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:20:24) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000108)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000212)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000083)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000704)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000229)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 4, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000128)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 4, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000124)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 4, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/4
Completed in 0.03114 (32 reqs/sec) | DB: 0.00191 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000167)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000349)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000194)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:20:24) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000224)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000161)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000475)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mSQL (0.000080)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Load (0.000074)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mRole Columns (0.000442)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mPermission Load (0.000193)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000080)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000132)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000067)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000320)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000519)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000080)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01460)
  [4;35;1mPerson Load (0.000125)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000065)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000493)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000092)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00600)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0d1a4 @filter=#<Proc:0xb7688b54@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.03602 (27 reqs/sec) | Rendering: 0.02584 (71%) | DB: 0.00136 (3%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000099)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000148)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000079)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:20:24) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000096)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000067)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000061)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000483)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000082)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000068)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000087)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000062)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000060)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000548)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000078)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00482)
  [4;36;1mPerson Load (0.000123)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000071)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000502)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000081)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00448)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0d5c8 @filter=#<Proc:0xb7688b54@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01504 (66 reqs/sec) | Rendering: 0.01158 (76%) | DB: 0.00054 (3%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000118)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:20:24) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000200)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000103)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000212)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000104)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000076)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000489)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000078)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000068)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00464)
Completed in 0.01167 (85 reqs/sec) | Rendering: 0.01037 (88%) | DB: 0.00073 (6%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000075)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:20:24) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000089)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000067)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000076)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000477)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000079)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000070)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000065)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000094)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000070)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000067)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000485)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000076)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00480)
  [4;35;1mPerson Load (0.000118)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000067)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000063)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000485)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000076)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00430)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0d9ec @filter=#<Proc:0xb7688b54@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01493 (66 reqs/sec) | Rendering: 0.01144 (76%) | DB: 0.00040 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000113)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000075)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:20:24) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000087)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000061)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000470)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000075)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000067)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000065)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000103)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000067)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000065)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000485)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000077)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00482)
  [4;35;1mPerson Load (0.000115)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000078)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000064)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000494)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.037494)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.05019)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f0d5c8 @filter=#<Proc:0xb7688b54@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.06111 (16 reqs/sec) | Rendering: 0.05778 (94%) | DB: 0.00038 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000165)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000091)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000094)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000741)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000199)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000159)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:22:25) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000108)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000209)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000103)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000639)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000246)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 5, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000198)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 5, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000131)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 5, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/5
Completed in 0.03165 (31 reqs/sec) | DB: 0.00194 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000172)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000961)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000086)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000170)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.000120)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPermission Load (0.000251)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.permissioned_id = 1 AND permissions.permissioned_type = 'Project') AND (`permissions`.`permission` = 'edit') LIMIT 1[0m
  [4;35;1mSQL (0.000097)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:22:26) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000257)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000084)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000186)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000522)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mSQL (0.000077)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mRole Load (0.000074)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.000516)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.000216)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000089)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000142)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000188)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000560)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000090)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01586)
  [4;36;1mPerson Load (0.000133)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000082)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.001173)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000090)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00741)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f096f8 @filter=#<Proc:0xb7684f2c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.04076 (24 reqs/sec) | Rendering: 0.02922 (71%) | DB: 0.00255 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:22:26) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000237)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000115)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000202)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000108)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000074)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000080)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000528)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000085)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000093)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00557)
Completed in 0.01342 (74 reqs/sec) | Rendering: 0.01196 (89%) | DB: 0.00079 (5%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000127)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.001113)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:22:26) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000103)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000075)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000069)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000594)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000093)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000076)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000078)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000104)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000529)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000085)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00537)
  [4;35;1mPerson Load (0.000118)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000075)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000535)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000076)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00465)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f09b1c @filter=#<Proc:0xb7684f2c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01660 (60 reqs/sec) | Rendering: 0.01262 (76%) | DB: 0.00044 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000108)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:22:26) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000108)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000069)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000060)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000491)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000078)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000067)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000081)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000115)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000063)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000227)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000492)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000078)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00502)
  [4;35;1mPerson Load (0.000113)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000064)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000062)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000466)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000076)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00421)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f096f8 @filter=#<Proc:0xb7684f2c@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01459 (68 reqs/sec) | Rendering: 0.01116 (76%) | DB: 0.00040 (2%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000113)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000110)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000080)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000070)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000856)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000199)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000166)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:22:57) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000112)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000211)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000083)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000690)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000208)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 6, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000124)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 6, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000151)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 6, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/6
Completed in 0.03061 (32 reqs/sec) | DB: 0.00192 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000169)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.012017)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000071)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000174)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.000119)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.000123)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:22:58) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000219)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000161)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000474)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mSQL (0.000070)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Load (0.000065)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mRole Columns (0.000430)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mPermission Load (0.000202)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000077)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000142)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000086)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000590)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000087)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01488)
  [4;35;1mPerson Load (0.000136)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000588)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000090)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00711)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f281ac @filter=#<Proc:0xb76a38f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.03844 (26 reqs/sec) | Rendering: 0.02824 (73%) | DB: 0.01312 (34%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000109)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000152)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000055)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000089)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:22:58) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000118)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000081)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000071)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000531)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000091)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000074)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000122)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000108)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000538)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000097)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00580)
  [4;36;1mPerson Load (0.000120)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000531)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000086)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00484)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f285d0 @filter=#<Proc:0xb76a38f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01718 (58 reqs/sec) | Rendering: 0.01325 (77%) | DB: 0.00058 (3%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000135)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000083)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:22:58) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000241)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000113)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000192)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000107)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000082)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000082)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000539)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000086)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000093)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00537)
Completed in 0.01321 (75 reqs/sec) | Rendering: 0.01174 (88%) | DB: 0.00080 (6%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000117)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000100)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:22:58) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000102)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000059)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000480)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000074)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000072)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000064)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000107)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000061)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000064)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000484)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000076)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00476)
  [4;35;1mPerson Load (0.000103)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000065)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000069)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000480)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000075)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00423)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f289f4 @filter=#<Proc:0xb76a38f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01479 (67 reqs/sec) | Rendering: 0.01129 (76%) | DB: 0.00042 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000112)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000055)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:22:58) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000090)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000069)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000061)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000482)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000075)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000065)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000084)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000061)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000059)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000529)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000075)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00471)
  [4;35;1mPerson Load (0.000116)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000065)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000068)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000490)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.037407)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.05031)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f285d0 @filter=#<Proc:0xb76a38f0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.06105 (16 reqs/sec) | Rendering: 0.05773 (94%) | DB: 0.00038 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000177)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000107)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000057)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000070)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000727)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000190)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000162)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:23:25) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000116)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000213)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000685)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000210)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 7, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000188)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 7, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000131)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 7, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/7
Completed in 0.03139 (31 reqs/sec) | DB: 0.00194 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000174)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000402)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000053)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000163)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.000118)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPermission Create (0.000161)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000117)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000118)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'change_permissions', NULL, 2)[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:23:25) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000231)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000179)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000489)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mSQL (0.000069)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mRole Load (0.000070)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.000456)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.000197)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000102)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000152)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000086)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000563)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000089)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01895)
  [4;35;1mPerson Load (0.000136)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000086)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.001216)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000092)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01018)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed905c @filter=#<Proc:0xb7654714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.04738 (21 reqs/sec) | Rendering: 0.03509 (74%) | DB: 0.00191 (4%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000124)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000393)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000086)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:23:25) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000115)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000078)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000226)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000521)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000084)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000189)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000082)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000110)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000526)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000087)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00542)
  [4;36;1mPerson Load (0.000116)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000074)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000085)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000533)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000088)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00481)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed9480 @filter=#<Proc:0xb7654714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01707 (58 reqs/sec) | Rendering: 0.01283 (75%) | DB: 0.00110 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000123)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:23:25) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000230)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000120)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000488)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000107)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000072)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000483)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000077)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000065)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00471)
Completed in 0.01233 (81 reqs/sec) | Rendering: 0.01061 (86%) | DB: 0.00104 (8%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000124)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000053)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000075)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:23:25) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000094)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000078)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000065)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000540)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000075)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000067)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000067)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000102)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000064)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000062)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000471)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000082)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00562)
  [4;35;1mPerson Load (0.000104)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000064)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000063)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000473)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000074)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00419)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed98a4 @filter=#<Proc:0xb7654714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01555 (64 reqs/sec) | Rendering: 0.01207 (77%) | DB: 0.00040 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000058)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:23:25) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000095)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000090)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000062)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000470)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000082)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000093)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000086)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000088)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000062)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000061)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000496)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000079)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00478)
  [4;35;1mPerson Load (0.000111)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000064)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000067)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000463)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.038005)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.05148)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed9480 @filter=#<Proc:0xb7654714@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.06208 (16 reqs/sec) | Rendering: 0.05860 (94%) | DB: 0.00042 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000179)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000048)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000071)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000727)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000183)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000221)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:23:37) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000107)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000213)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000099)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000684)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000267)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 8, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000150)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 8, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000153)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 8, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/8
Completed in 0.03132 (31 reqs/sec) | DB: 0.00202 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000193)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000369)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000159)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.000117)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPermission Create (0.000168)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000122)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000132)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'change_permissions', NULL, 2)[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:23:37) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000220)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000077)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000190)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000473)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mRole Load (0.000074)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.000505)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.000252)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000110)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000143)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000078)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000090)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000566)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.001002)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01896)
  [4;35;1mPerson Load (0.000134)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000077)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000080)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000613)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000084)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00958)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f2216c @filter=#<Proc:0xb769d784@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.04729 (21 reqs/sec) | Rendering: 0.03455 (73%) | DB: 0.00198 (4%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000129)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000679)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000063)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000087)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:23:37) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000098)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000080)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000227)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000524)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000089)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000196)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000080)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000119)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000533)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000093)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00547)
  [4;36;1mPerson Load (0.000118)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000083)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000531)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000086)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00488)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f22590 @filter=#<Proc:0xb769d784@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01821 (54 reqs/sec) | Rendering: 0.01400 (76%) | DB: 0.00139 (7%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000116)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000077)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:23:37) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000210)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000120)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000193)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000112)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000196)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000075)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000495)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000076)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000067)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00491)
Completed in 0.01286 (77 reqs/sec) | Rendering: 0.01155 (89%) | DB: 0.00074 (5%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000107)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000054)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:23:37) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000086)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000063)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000472)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000076)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000066)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000098)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000069)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000061)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000481)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000075)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00472)
  [4;35;1mPerson Load (0.000107)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000078)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000483)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000076)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00516)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f229b4 @filter=#<Proc:0xb769d784@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01566 (63 reqs/sec) | Rendering: 0.01223 (78%) | DB: 0.00038 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000110)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000119)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:23:37) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000112)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000077)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000063)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000481)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000075)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000069)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000090)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000062)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000063)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000551)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000083)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00491)
  [4;35;1mPerson Load (0.000116)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000067)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000063)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000480)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.038554)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.05231)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f22590 @filter=#<Proc:0xb769d784@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.06346 (15 reqs/sec) | Rendering: 0.06006 (94%) | DB: 0.00047 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000178)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000109)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000049)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000749)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000188)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000179)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:23:50) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000120)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000218)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000087)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000689)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000207)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 9, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000130)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 9, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000121)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 9, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/9
Completed in 0.03069 (32 reqs/sec) | DB: 0.00189 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000169)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000354)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000067)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000070)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000157)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.000113)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.000063)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPermission Create (0.000177)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000122)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000140)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'change_permissions', NULL, 2)[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:23:50) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000224)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000233)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000473)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mSQL (0.000071)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mRole Load (0.000070)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.000468)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.000204)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000111)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000141)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000083)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000556)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000089)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01836)
  [4;35;1mPerson Load (0.000133)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000077)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000084)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.001319)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000092)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01021)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f143f0 @filter=#<Proc:0xb768ff44@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.04612 (21 reqs/sec) | Rendering: 0.03443 (74%) | DB: 0.00196 (4%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000118)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000505)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000107)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:23:50) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000123)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000082)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000229)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000520)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000090)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000195)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000106)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000072)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000536)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000581)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000096)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00607)
  [4;36;1mPerson Load (0.000113)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000078)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000102)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000546)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000089)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00493)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f14814 @filter=#<Proc:0xb768ff44@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01788 (55 reqs/sec) | Rendering: 0.01365 (76%) | DB: 0.00125 (6%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000117)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000089)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000086)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:23:50) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000226)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000111)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000198)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000105)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000093)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000076)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000085)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000541)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000086)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000076)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00531)
Completed in 0.01317 (75 reqs/sec) | Rendering: 0.01173 (89%) | DB: 0.00079 (6%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000105)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000081)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:23:50) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000110)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000093)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000074)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000542)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000085)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000078)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000108)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000070)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000523)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000104)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00569)
  [4;35;1mPerson Load (0.000115)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000542)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000089)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00488)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f14c38 @filter=#<Proc:0xb768ff44@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01816 (55 reqs/sec) | Rendering: 0.01323 (72%) | DB: 0.00043 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000131)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000083)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:23:50) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000101)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000088)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000074)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000531)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000091)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000074)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000074)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000089)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000071)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000070)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000528)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000086)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00537)
  [4;35;1mPerson Load (0.000112)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000073)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000084)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000519)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.044702)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.05910)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6f14814 @filter=#<Proc:0xb768ff44@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.07237 (13 reqs/sec) | Rendering: 0.06744 (93%) | DB: 0.00044 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000184)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;36;1mSQL (0.000106)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000047)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000078)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.000723)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.000189)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.000161)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:25:14) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;35;1mPerson Load (0.000118)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mProject Create (0.000227)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mPerson Load (0.000086)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.000694)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mPermission Create (0.000213)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 10, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000222)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 10, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000128)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 10, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/10
Completed in 0.03254 (30 reqs/sec) | DB: 0.00199 (6%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.000169)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000364)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000073)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.000158)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.000116)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Create (0.000168)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'view', NULL, 2)[0m
  [4;36;1mPermission Create (0.000153)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'edit', NULL, 2)[0m
  [4;35;1mPermission Create (0.000117)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'change_permissions', NULL, 2)[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:25:14) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000216)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000192)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000468)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mSQL (0.000075)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mRole Load (0.000070)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.000443)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.000218)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000092)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000135)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000109)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000489)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000077)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01692)
  [4;35;1mPerson Load (0.000191)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000070)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000065)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000475)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000077)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00932)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed81c0 @filter=#<Proc:0xb7653a58@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.04298 (23 reqs/sec) | Rendering: 0.03146 (73%) | DB: 0.00193 (4%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000122)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.000383)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000057)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000087)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:25:14) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000101)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000105)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000231)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000514)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000094)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000198)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000080)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000110)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000084)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000072)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000527)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000087)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00553)
  [4;36;1mPerson Load (0.000116)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000079)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000074)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000511)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000084)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00479)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed85e4 @filter=#<Proc:0xb7653a58@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01830 (54 reqs/sec) | Rendering: 0.01293 (70%) | DB: 0.00109 (5%) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.000120)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000087)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:25:14) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;36;1mProject Load (0.000215)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.000129)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.000215)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.000107)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000085)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.000081)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000637)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000088)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000078)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00541)
Completed in 0.01476 (67 reqs/sec) | Rendering: 0.01225 (82%) | DB: 0.00077 (5%) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.000139)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000082)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:25:14) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000109)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000078)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000069)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000513)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000084)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000085)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000077)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000119)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000075)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000080)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000522)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000084)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00541)
  [4;35;1mPerson Load (0.000128)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000076)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000078)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000522)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000250)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.00511)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed8a08 @filter=#<Proc:0xb7653a58@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.01818 (54 reqs/sec) | Rendering: 0.01318 (72%) | DB: 0.00046 (2%) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.000153)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000084)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:25:14) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000107)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000078)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000061)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000485)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000078)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000069)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.000102)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000061)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000461)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000073)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00505)
  [4;35;1mPerson Load (0.000122)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000066)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000066)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000474)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.040037)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.05329)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb6ed85e4 @filter=#<Proc:0xb7653a58@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.06578 (15 reqs/sec) | Rendering: 0.06125 (93%) | DB: 0.00045 (0%) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.000152)[0m   [0;1mROLLBACK[0m
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/ae_users/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_list' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_tree' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'acts_as_versioned' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_forms' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
checking plugin 'ae_users' for '/home/nbudin/vellum/vendor/plugins/auto_complete/lib/auto_complete_macros_helper'
(file not found in application)
Attempting to copy plugin assets from '/home/nbudin/vellum/vendor/plugins/jipe/assets' to '/home/nbudin/vellum/public/plugin_assets'
checking plugin 'engines' for 'application_helper'
checking plugin 'acts_as_list' for 'application_helper'
checking plugin 'acts_as_tree' for 'application_helper'
checking plugin 'acts_as_versioned' for 'application_helper'
checking plugin 'ae_forms' for 'application_helper'
checking plugin 'ae_users' for 'application_helper'
checking plugin 'auto_complete' for 'application_helper'
checking plugin 'jipe' for 'application_helper'
checking plugin 'open_id_authentication' for 'application_helper'
loading from application: application_helper
checking plugin 'engines' for 'structures_helper'
checking plugin 'acts_as_list' for 'structures_helper'
checking plugin 'acts_as_tree' for 'structures_helper'
checking plugin 'acts_as_versioned' for 'structures_helper'
checking plugin 'ae_forms' for 'structures_helper'
checking plugin 'ae_users' for 'structures_helper'
checking plugin 'auto_complete' for 'structures_helper'
checking plugin 'jipe' for 'structures_helper'
checking plugin 'open_id_authentication' for 'structures_helper'
loading from application: structures_helper
checking plugin 'engines' for 'structure_templates_helper'
checking plugin 'acts_as_list' for 'structure_templates_helper'
checking plugin 'acts_as_tree' for 'structure_templates_helper'
checking plugin 'acts_as_versioned' for 'structure_templates_helper'
checking plugin 'ae_forms' for 'structure_templates_helper'
checking plugin 'ae_users' for 'structure_templates_helper'
checking plugin 'auto_complete' for 'structure_templates_helper'
checking plugin 'jipe' for 'structure_templates_helper'
checking plugin 'open_id_authentication' for 'structure_templates_helper'
loading from application: structure_templates_helper
checking plugin 'engines' for 'attrs_helper'
checking plugin 'acts_as_list' for 'attrs_helper'
checking plugin 'acts_as_tree' for 'attrs_helper'
checking plugin 'acts_as_versioned' for 'attrs_helper'
checking plugin 'ae_forms' for 'attrs_helper'
checking plugin 'ae_users' for 'attrs_helper'
checking plugin 'auto_complete' for 'attrs_helper'
checking plugin 'jipe' for 'attrs_helper'
checking plugin 'open_id_authentication' for 'attrs_helper'
loading from application: attrs_helper
  [4;36;1mSQL (0.000171)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.000481)[0m   [0mSHOW TABLES[0m
  [4;36;1mTextField Columns (0.000850)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
checking plugin 'engines' for 'documents_helper'
checking plugin 'acts_as_list' for 'documents_helper'
checking plugin 'acts_as_tree' for 'documents_helper'
checking plugin 'acts_as_versioned' for 'documents_helper'
checking plugin 'ae_forms' for 'documents_helper'
checking plugin 'ae_users' for 'documents_helper'
checking plugin 'auto_complete' for 'documents_helper'
checking plugin 'jipe' for 'documents_helper'
checking plugin 'open_id_authentication' for 'documents_helper'
loading from application: documents_helper
checking plugin 'engines' for 'template_schemas_helper'
checking plugin 'acts_as_list' for 'template_schemas_helper'
checking plugin 'acts_as_tree' for 'template_schemas_helper'
checking plugin 'acts_as_versioned' for 'template_schemas_helper'
checking plugin 'ae_forms' for 'template_schemas_helper'
checking plugin 'ae_users' for 'template_schemas_helper'
checking plugin 'auto_complete' for 'template_schemas_helper'
checking plugin 'jipe' for 'template_schemas_helper'
checking plugin 'open_id_authentication' for 'template_schemas_helper'
loading from application: template_schemas_helper
checking plugin 'engines' for 'projects_helper'
checking plugin 'acts_as_list' for 'projects_helper'
checking plugin 'acts_as_tree' for 'projects_helper'
checking plugin 'acts_as_versioned' for 'projects_helper'
checking plugin 'ae_forms' for 'projects_helper'
checking plugin 'ae_users' for 'projects_helper'
checking plugin 'auto_complete' for 'projects_helper'
checking plugin 'jipe' for 'projects_helper'
checking plugin 'open_id_authentication' for 'projects_helper'
loading from application: projects_helper
  [4;35;1mSQL (0.000113)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000286)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.000291)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000323)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2008-06-03 16:48:43) [POST]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"create", "config_class"=>"TextField", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.000146)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000081)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000345)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.name = 'test' AND attrs.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.000201)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.000293)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.000203)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `position`, `required`, `structure_template_id`, `attr_configuration_type`) VALUES('test', 1, 2, NULL, 1, 'TextField')[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.01177 (84 reqs/sec) | DB: 0.00378 (32%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.000197)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.000403)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000085)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000214)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.000230)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000085)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000075)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2008-06-03 16:48:44) [DELETE]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"destroy", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000139)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000076)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000074)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mAttr Update (0.000190)[0m   [0mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.000260)[0m   [0;1mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.000150)[0m   [0m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 0.00395 (253 reqs/sec) | DB: 0.00218 (55%) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000210)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.007831)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"attrs"}
  [4;35;1mSQL (0.000156)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000181)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.000158)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000310)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"index", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000148)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000081)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000355)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
Completed in 0.00435 (229 reqs/sec) | Rendering: 0.00010 (2%) | DB: 0.00951 (218%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.000176)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000102)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.000124)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000108)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"new", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.000238)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.000124)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (0.00377)
Completed in 0.01455 (68 reqs/sec) | Rendering: 0.01304 (89%) | DB: 0.00087 (5%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.000180)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000087)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000325)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.002483)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000152)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"show", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.000148)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000097)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000100)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 0.00324 (308 reqs/sec) | Rendering: 0.00009 (2%) | DB: 0.00357 (110%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.000172)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000081)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.000126)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.000118)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000120)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2008-06-03 16:48:44) [PUT]
  Session ID: 
  Parameters: {"template_schema_id"=>"1", "action"=>"update", "id"=>"1", "controller"=>"attrs", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.000140)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.000079)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.000076)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mAttr Load (0.000392)[0m   [0;1mSELECT * FROM `attrs` WHERE (attrs.name = 'SomethingElse' AND attrs.structure_template_id = 1 AND attrs.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.000290)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = 1, `attr_configuration_id` = 1, `name` = 'SomethingElse' WHERE `id` = 1[0m
Completed in 0.00526 (189 reqs/sec) | Rendering: 0.00005 (1%) | DB: 0.00159 (30%) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.000655)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000083)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000277)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2008-06-03 16:48:44) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Create (0.000271)[0m   [0mINSERT INTO `documents` (`project_id`, `updated_at`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:48:44', NULL, 1, NULL, NULL, '2008-06-03 16:48:44')[0m
  [4;36;1mDocument::Version Columns (0.001182)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mDocument::Version Create (0.000286)[0m   [0mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:48:44', 3, NULL, 1, NULL, NULL, '2008-06-03 16:48:44')[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000209)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2008-06-03 16:48:44) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"documents"}
  [4;35;1mDocument Load (0.006566)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mDocument::Version Delete all (0.000235)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.000495)[0m   [0m DELETE FROM `documents`
 WHERE `id` = 1
[0m
  [4;36;1mSQL (0.000494)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000068)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.000353)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.000168)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"documents"}
  [4;35;1mDocument Load (0.008569)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.000238)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000195)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"documents"}
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.003124)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000076)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"documents"}
  [4;36;1mDocument Load (0.006636)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.000163)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000088)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2008-06-03 16:48:44) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "document"=>{}, "controller"=>"documents"}
  [4;35;1mDocument Load (0.001147)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.000303)[0m   [0;1mSELECT max(version) AS max_version FROM `document_versions` WHERE (document_versions.document_id = 1) [0m
  [4;35;1mDocument Update (0.000303)[0m   [0mUPDATE `documents` SET `created_at` = '2008-06-03 16:48:44', `content` = 'MyText', `structure_template_id` = NULL, `version` = 1, `title` = 'MyText', `updated_at` = '2008-06-03 16:48:44', `project_id` = NULL WHERE `id` = 1[0m
  [4;36;1mDocument::Version Create (0.000224)[0m   [0;1mINSERT INTO `document_versions` (`project_id`, `updated_at`, `document_id`, `title`, `version`, `content`, `structure_template_id`, `created_at`) VALUES(NULL, '2008-06-03 16:48:44', 1, 'MyText', 1, 'MyText', NULL, '2008-06-03 16:48:44')[0m
  [4;35;1mSQL (0.000412)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000060)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000091)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.000176)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.000952)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.000275)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.000090)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2008-06-03 16:48:44) [POST]
  Session ID: 
  Parameters: {"project"=>{"template_schema_id"=>1}, "action"=>"create", "controller"=>"projects"}
  [4;36;1mPerson Load (0.000181)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mProject Create (0.000973)[0m   [0mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;36;1mPerson Load (0.000654)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Columns (0.003048)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mPermission Create (0.001883)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 3, 'view', NULL, 2)[0m
  [4;35;1mPermission Create (0.000604)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 3, 'edit', NULL, 2)[0m
  [4;36;1mPermission Create (0.000221)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 3, 'change_permissions', NULL, 2)[0m
Redirected to http://test.host/projects/3
Completed in 0.05946 (16 reqs/sec) | DB: 0.00979 (16%) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.000242)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000454)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000070)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000097)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.001290)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mProject Load (0.001222)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mPerson Load (0.001166)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Create (0.003460)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'view', NULL, 2)[0m
  [4;35;1mPermission Create (0.001914)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'edit', NULL, 2)[0m
  [4;36;1mPermission Create (0.002147)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `permission`, `role_id`, `person_id`) VALUES('Project', 1, 'change_permissions', NULL, 2)[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2008-06-03 16:48:44) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.044180)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.002071)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.003304)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000640)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mSQL (0.000086)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mRole Load (0.000074)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mRole Columns (0.000584)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mPermission Load (0.003636)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000137)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.008348)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000140)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000125)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000649)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000109)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.04366)
  [4;36;1mPerson Load (0.002409)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000137)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000096)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.002557)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000124)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01206)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71f3b70 @filter=#<Proc:0xb7705aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.22917 (4 reqs/sec) | Rendering: 0.05826 (25%) | DB: 0.06192 (27%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.005768)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.000383)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000065)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000099)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"projects"}
  [4;35;1mProject Load (0.000148)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.000085)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000243)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000585)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000087)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000213)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mPerson Load (0.000090)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.001679)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.005694)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000353)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000677)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000102)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.01336)
  [4;35;1mPerson Load (0.002590)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000134)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000083)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.004299)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000127)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01138)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71f4020 @filter=#<Proc:0xb7705aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.03157 (31 reqs/sec) | Rendering: 0.02720 (86%) | DB: 0.00682 (21%) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.000546)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001863)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.000139)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"projects"}
  [4;35;1mProject Load (0.012036)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mPerson Load (0.001191)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mTemplateSchema Load (0.001157)[0m   [0mSELECT * FROM `template_schemas` [0m
  [4;36;1mPerson Load (0.000300)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000748)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.008020)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.000151)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000532)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000115)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.000106)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01463)
Completed in 0.03654 (27 reqs/sec) | Rendering: 0.02211 (60%) | DB: 0.01586 (43%) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.005290)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000132)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000116)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000158)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000114)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.005454)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000586)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000107)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000090)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000078)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000144)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000096)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000167)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000572)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000111)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00572)
  [4;36;1mPerson Load (0.000174)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.001531)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.003265)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.002171)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000133)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01166)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71f4480 @filter=#<Proc:0xb7705aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.02957 (33 reqs/sec) | Rendering: 0.01988 (67%) | DB: 0.01112 (37%) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.002872)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000128)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.000106)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2008-06-03 16:48:44) [PUT]
  Session ID: 
  Parameters: {"project"=>{}, "action"=>"update", "id"=>"1", "controller"=>"projects"}
  [4;36;1mProject Load (0.000928)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.000313)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Load (0.008729)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000625)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000106)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.000105)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mPerson Load (0.000105)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.000138)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000070)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.000069)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mJoin Table Columns (0.000626)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.000156)[0m   [0;1mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_auth_form (0.00560)
  [4;36;1mPerson Load (0.000719)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.008157)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.000147)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mJoin Table Columns (0.000623)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.000098)[0m   [0mSELECT * FROM `roles` INNER JOIN people_roles ON roles.id = people_roles.role_id WHERE (people_roles.person_id = 2 ) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
  [4;35;1mCACHE (0.000000)[0m   [0mSELECT * FROM `permissions` WHERE (permissions.person_id = 2) [0m
  [4;36;1mCACHE (0.000000)[0m   [0;1mSELECT * FROM `permissions` WHERE (permissions.role_id = 1) [0m
Permission check result: false
Rendered auth/_mini_auth_form (0.01405)
Filter chain halted as [#<ActionController::Filters::ClassMethods::ProcFilter:0xb71f4020 @filter=#<Proc:0xb7705aa0@/home/nbudin/vellum/vendor/plugins/ae_users/lib/ae_users.rb:350>>] rendered_or_redirected.
Completed in 0.03584 (27 reqs/sec) | Rendering: 0.02173 (60%) | DB: 0.01276 (35%) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.000164)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000079)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000224)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2008-06-03 16:48:44) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;36;1mSQL (0.000994)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000863)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.008420)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2008-06-03 16:48:44) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000149)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000121)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2008-06-03 16:48:44) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.001150)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000160)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000128)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000054)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structure_templates"}
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000109)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2008-06-03 16:48:45) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"structure_templates", "structure_template"=>{}}
  [4;35;1mSQL (0.000125)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000056)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000199)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2008-06-03 16:48:45) [POST]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"create", "controller"=>"structures"}
  [4;36;1mSQL (0.000142)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000062)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000094)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2008-06-03 16:48:45) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000180)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000068)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000116)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000066)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"structures"}
  [4;35;1mSQL (0.000153)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000413)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"structures"}
  [4;35;1mSQL (0.000186)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000073)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000147)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000076)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2008-06-03 16:48:45) [PUT]
  Session ID: 
  Parameters: {"structure"=>{}, "action"=>"update", "id"=>"1", "controller"=>"structures"}
  [4;35;1mSQL (0.000124)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000081)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000237)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2008-06-03 16:48:45) [POST]
  Session ID: 
  Parameters: {"action"=>"create", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;36;1mTemplateSchema Create (0.000274)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
Redirected to http://test.host/template_schemas/3
Completed in 0.00524 (190 reqs/sec) | DB: 0.01573 (300%) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.000268)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.000412)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000083)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000213)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2008-06-03 16:48:45) [DELETE]
  Session ID: 
  Parameters: {"action"=>"destroy", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000290)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.000307)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.000283)[0m   [0mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000237)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.parent_id = 2) [0m
  [4;35;1mAttr Load (0.000315)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.000242)[0m   [0;1m DELETE FROM `structure_templates`
 WHERE `id` = 2
[0m
  [4;35;1mAttr Load (0.000382)[0m   [0mSELECT * FROM `attrs` WHERE (attrs.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.007779)[0m   [0;1mUPDATE attrs SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.000357)[0m   [0mUPDATE `attrs` SET `structure_template_id` = 1, `required` = NULL, `attr_configuration_type` = 'TextField', `position` = NULL, `attr_configuration_id` = 1, `name` = 'Name' WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.000147)[0m   [0;1m DELETE FROM `attrs`
 WHERE `id` = 1
[0m
  [4;35;1mStructureTemplate Destroy (0.000130)[0m   [0m DELETE FROM `structure_templates`
 WHERE `id` = 1
[0m
  [4;36;1mRelationshipType Load (0.001974)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.000353)[0m   [0m DELETE FROM `template_schemas`
 WHERE `id` = 1
[0m
Redirected to http://test.host/template_schemas
Completed in 0.03553 (28 reqs/sec) | DB: 0.01377 (38%) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.000255)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.000535)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"edit", "id"=>"1", "controller"=>"template_schemas"}
  [4;35;1mSQL (0.000117)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000061)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"index", "controller"=>"template_schemas"}
  [4;35;1mTemplateSchema Load (0.000246)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.00050)
Completed in 0.01489 (67 reqs/sec) | Rendering: 0.01399 (93%) | DB: 0.00129 (8%) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.000155)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000061)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"new", "controller"=>"template_schemas"}
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.00051)
Completed in 0.00395 (253 reqs/sec) | Rendering: 0.00377 (95%) | DB: 0.00022 (5%) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.000166)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000077)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2008-06-03 16:48:45) [GET]
  Session ID: 
  Parameters: {"action"=>"show", "id"=>"1", "controller"=>"template_schemas"}
  [4;36;1mTemplateSchema Load (0.000317)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.000314)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (projects.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.000239)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;35;1mSQL (0.000226)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (structure_templates.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.000111)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.000870)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.000280)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (relationship_types.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.00102)
Completed in 0.01638 (61 reqs/sec) | Rendering: 0.01310 (79%) | DB: 0.00260 (15%) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.000163)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000072)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2008-06-03 16:48:45) [PUT]
  Session ID: 
  Parameters: {"action"=>"update", "id"=>"1", "controller"=>"template_schemas", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.000152)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Update (0.000250)[0m   [0;1mUPDATE `template_schemas` SET `description` = NULL, `name` = NULL WHERE `id` = 1[0m
Redirected to http://test.host/template_schemas/1
Completed in 0.00251 (398 reqs/sec) | DB: 0.00064 (25%) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.000155)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (24.0ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (22.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateDocuments (1)
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE `documents` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` text, `content` text, `created_at` datetime, `updated_at` datetime, `structure_template_id` int(11), `version` int(11)) ENGINE=InnoDB[0m
  [4;36;1mDocument Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `documents`[0m
  [4;35;1mSQL (2.3ms)[0m   [0mCREATE TABLE `document_versions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `document_id` int(11), `version` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mALTER TABLE `document_versions` ADD `title` text DEFAULT NULL[0m
  [4;35;1mSQL (3.1ms)[0m   [0mALTER TABLE `document_versions` ADD `content` text DEFAULT NULL[0m
  [4;36;1mSQL (38.5ms)[0m   [0;1mALTER TABLE `document_versions` ADD `created_at` datetime DEFAULT NULL[0m
  [4;35;1mSQL (3.5ms)[0m   [0mALTER TABLE `document_versions` ADD `updated_at` datetime DEFAULT NULL[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mALTER TABLE `document_versions` ADD `structure_template_id` int(11) DEFAULT NULL[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to CreateStructureTemplates (2)
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE `structure_templates` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `parent_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to CreateAttrs (3)
  [4;36;1mSQL (1.7ms)[0m   [0;1mCREATE TABLE `attrs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `structure_template_id` int(11), `attr_configuration_id` int(11), `attr_configuration_type` varchar(255), `position` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateRelationshipTypes (5)
  [4;36;1mSQL (2.0ms)[0m   [0;1mCREATE TABLE `relationship_types` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `left_description` varchar(255), `right_description` varchar(255), `left_template_id` int(11), `right_template_id` int(11), `template_schema_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to CreateStructures (6)
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE `structures` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `structure_template_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to CreateProjects (7)
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE `projects` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `template_schema_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (24.7ms)[0m   [0mALTER TABLE `documents` ADD `project_id` int(11)[0m
  [4;36;1mSQL (18.4ms)[0m   [0;1mALTER TABLE `document_versions` ADD `project_id` int(11)[0m
  [4;35;1mSQL (3.4ms)[0m   [0mALTER TABLE `structures` ADD `project_id` int(11)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to CreateTemplateSchemas (8)
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE TABLE `template_schemas` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `description` text) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1mALTER TABLE `structure_templates` ADD `template_schema_id` int(11)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to CreateAttrValueMetadatas (9)
  [4;36;1mSQL (1.9ms)[0m   [0;1mCREATE TABLE `attr_value_metadatas` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `attr_id` int(11), `structure_id` int(11), `value_id` int(11), `value_type` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to CreateRelationships (10)
  [4;36;1mSQL (2.7ms)[0m   [0;1mCREATE TABLE `relationships` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `relationship_type_id` int(11), `left_id` int(11), `right_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to CreateTextFields (11)
  [4;36;1mSQL (1.8ms)[0m   [0;1mCREATE TABLE `text_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `default` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to CreateTextValues (12)
  [4;36;1mSQL (1.6ms)[0m   [0;1mCREATE TABLE `text_values` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `value` text) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AddRequiredAttrs (13)
  [4;36;1mSQL (3.7ms)[0m   [0;1mALTER TABLE `attrs` ADD `required` tinyint(1)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to AddOpenIdAuthenticationTables (14)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (17.2ms)[0m   [0mCREATE TABLE `open_id_authentication_associations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `server_url` blob, `handle` varchar(255), `secret` blob, `issued` int(11), `lifetime` int(11), `assoc_type` varchar(255)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE TABLE `open_id_authentication_nonces` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `nonce` varchar(255), `created` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (1049.5ms)[0m   [0mCREATE TABLE `open_id_authentication_settings` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `setting` varchar(255), `value` blob) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('14')[0m
Migrating to CreateNumberFields (15)
  [4;35;1mSQL (19.9ms)[0m   [0mCREATE TABLE `number_fields` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `default` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('15')[0m
Migrating to CreateNumberValues (16)
  [4;35;1mSQL (3.3ms)[0m   [0mCREATE TABLE `number_values` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `value` float, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('16')[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attr_value_metadatas`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `attr_value_metadatas`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `attr_value_metadatas`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `attrs`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mdescribe `attrs`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `attrs`[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mSQL (1.8ms)[0m   [0mdescribe `document_versions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `document_versions`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSHOW FIELDS FROM `documents`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mdescribe `documents`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `documents`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW FIELDS FROM `number_fields`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mdescribe `number_fields`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `number_fields`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `number_values`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `number_values`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `number_values`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSHOW FIELDS FROM `open_id_authentication_associations`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mdescribe `open_id_authentication_associations`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `open_id_authentication_associations`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `open_id_authentication_nonces`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `open_id_authentication_nonces`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `open_id_authentication_nonces`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `open_id_authentication_settings`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `open_id_authentication_settings`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `open_id_authentication_settings`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (54.6ms)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mdescribe `relationship_types`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW KEYS FROM `relationship_types`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSHOW FIELDS FROM `relationships`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mdescribe `relationships`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `relationships`[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mdescribe `structure_templates`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `structure_templates`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mdescribe `structures`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `structures`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW FIELDS FROM `template_schemas`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mdescribe `template_schemas`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `template_schemas`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mdescribe `text_fields`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW KEYS FROM `text_fields`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mdescribe `text_values`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW KEYS FROM `text_values`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mStructureTemplate Load (0.9ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (13.3ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (27.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `structure_templates`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (19.0ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (29.4ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.4ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.5ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.3ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRelationship Create (0.3ms)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.4ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.4ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.3ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.4ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.3ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.3ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.4ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.3ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.6ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;36;1mAttr Load (0.5ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Exists (0.4ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextField Load (1.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mTextValue Create (0.3ms)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Exists (0.1ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.3ms)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.4ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Load (0.4ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;36;1mAttrValueMetadata Exists (20.9ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Update (0.5ms)[0m   [0mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructure Load (0.3ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.5ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.3ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.4ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.3ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRelationship Create (0.3ms)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructure Load (0.3ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.3ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.3ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;36;1mRelationship Load (0.3ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.3ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;35;1mRelationship Load (0.3ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.3ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.3ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.3ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `structure_templates`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRelationshipType Load (0.4ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRelationship Create (0.1ms)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Exists (0.1ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mTextValue Create (0.1ms)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Exists (0.1ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.1ms)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;36;1mAttrValueMetadata Exists (0.2ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextField Load (0.0ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Update (0.1ms)[0m   [0mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRelationship Create (0.1ms)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;35;1mRelationship Load (0.3ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 10:59:42) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTextField Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;35;1mTextField Create (0.1ms)[0m   [0mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 10ms (DB: 15) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 10:59:42) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 27ms (View: 26, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 10:59:42) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.7ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 10:59:42) [POST]
  Parameters: {"document"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 10:59:42) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.3ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mDocument::Version Delete all (0.2ms)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.1ms)[0m   [0mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 10:59:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 10:59:42) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mDocument::Version Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 10:59:43) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProject Create (0.2ms)[0m   [0mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.0ms)[0m   [0;1mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 10:59:43) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 10:59:43) [POST]
  Parameters: {"structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 10:59:43) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 10:59:43) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 10:59:43) [POST]
  Parameters: {"structure"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 10:59:43) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 10:59:43) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 10:59:43) [POST]
  Parameters: {"template_schema"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTemplateSchema Create (0.2ms)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 4ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 10:59:43) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.3ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.1ms)[0m   [0mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 55ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 10:59:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 10:59:43) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `structure_templates`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mStructure Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRelationship Create (0.1ms)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.5ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.9ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Exists (0.1ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mTextValue Create (0.1ms)[0m   [0mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;36;1mAttrValueMetadata Exists (0.1ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.2ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mAttrValueMetadata Create (0.1ms)[0m   [0mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;36;1mTextValue Load (0.6ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;36;1mAttrValueMetadata Exists (0.2ms)[0m   [0;1mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextField Load (0.0ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Update (0.1ms)[0m   [0mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRelationship Create (0.1ms)[0m   [0mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 11:46:00) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;36;1mStructureTemplate Load (0.3ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTextField Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `text_fields`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;35;1mTextField Create (0.1ms)[0m   [0mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 10ms (DB: 10) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 11:46:00) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.5ms)
Completed in 8ms (View: 7, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 11:46:00) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.3ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 11:46:00) [POST]
  Parameters: {"document"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 11:46:00) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.3ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mDocument::Version Delete all (0.3ms)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.2ms)[0m   [0mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;36;1mDocument Load (0.3ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 11:46:00) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mDocument::Version Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 11:46:00) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProject Create (0.2ms)[0m   [0mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermission Columns (0.0ms)[0m   [0;1mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 11:46:00) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permissions' doesn't exist: SELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 11:46:00) [POST]
  Parameters: {"structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 11:46:00) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 11:46:00) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 11:46:00) [POST]
  Parameters: {"structure"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 11:46:00) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 11:46:00) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 11:46:00) [POST]
  Parameters: {"template_schema"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTemplateSchema Create (0.1ms)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 7) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 11:46:00) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.3ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.1ms)[0m   [0mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 51ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 11:46:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 8ms (View: 5, DB: 2) | 200 OK [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 11:46:00) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.0ms)[0m   [0mMysql::Error: Table 'vellum_test.permission_caches' doesn't exist: SHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateDocuments (1)
Migrating to CreateStructureTemplates (2)
Migrating to CreateAttrs (3)
Migrating to CreateRelationshipTypes (5)
Migrating to CreateStructures (6)
Migrating to CreateProjects (7)
Migrating to CreateTemplateSchemas (8)
Migrating to CreateAttrValueMetadatas (9)
Migrating to CreateRelationships (10)
Migrating to CreateTextFields (11)
Migrating to CreateTextValues (12)
Migrating to AddRequiredAttrs (13)
Migrating to AddOpenIdAuthenticationTables (14)
Migrating to CreateNumberFields (15)
Migrating to CreateNumberValues (16)
Migrating to AeUsersLocalTables (20090414165310)
  [4;36;1mSQL (12.3ms)[0m   [0;1mCREATE TABLE `permissions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `role_id` int(11), `person_id` int(11), `permission` varchar(255), `permissioned_id` int(11), `permissioned_type` varchar(255)) ENGINE=InnoDB[0m
  [4;35;1mSQL (12.4ms)[0m   [0mCREATE TABLE `auth_tickets` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `secret` varchar(255), `person_id` int(11), `created_at` datetime, `updated_at` datetime, `expires_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mCREATE UNIQUE INDEX `index_auth_tickets_on_secret` ON `auth_tickets` (`secret`)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE `permission_caches` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `person_id` int(11), `permissioned_id` int(11), `permissioned_type` varchar(255), `permission_name` varchar(255), `result` tinyint(1)) ENGINE=InnoDB[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE INDEX `index_permission_caches_on_person_id` ON `permission_caches` (`person_id`)[0m
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE INDEX `index_permission_caches_on_permissioned_id_and_permissioned_type` ON `permission_caches` (`permissioned_id`, `permissioned_type`)[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mCREATE INDEX `index_permission_caches_on_permission_name` ON `permission_caches` (`permission_name`)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090414165310')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `attr_value_metadatas`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `attr_value_metadatas`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `attr_value_metadatas`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `attrs`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `attrs`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `attrs`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `auth_tickets`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `auth_tickets`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `auth_tickets`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `document_versions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `document_versions`[0m
  [4;35;1mSQL (4.5ms)[0m   [0mSHOW FIELDS FROM `documents`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mdescribe `documents`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `documents`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `number_fields`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `number_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `number_fields`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `number_values`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `number_values`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `number_values`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW FIELDS FROM `open_id_authentication_associations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `open_id_authentication_associations`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `open_id_authentication_associations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `open_id_authentication_nonces`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `open_id_authentication_nonces`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `open_id_authentication_nonces`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `open_id_authentication_settings`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `open_id_authentication_settings`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `open_id_authentication_settings`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `permission_caches`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `permission_caches`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `permissions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `projects`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `projects`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `projects`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `relationship_types`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mdescribe `relationship_types`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `relationship_types`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW FIELDS FROM `relationships`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `relationships`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `relationships`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `structure_templates`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `structure_templates`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `structures`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `structures`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `structures`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `template_schemas`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `template_schemas`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW KEYS FROM `template_schemas`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `text_fields`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `text_fields`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW FIELDS FROM `text_values`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `text_values`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `text_values`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.5ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.0ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:10:06) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 8) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:10:06) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.5ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:10:06) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:10:06) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:10:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:10:06) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:10:06) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 60ms (DB: 6) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:10:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (12.7ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (1.8ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.8ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.5ms)
Filter chain halted as [#<Proc:0x09b4c734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 54ms (View: 15, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x09b4c734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.5ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.7ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x09b4c734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 9, DB: 2) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (12.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:10:06) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x09b4c734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 14) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:10:06) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:10:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:10:06) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:10:06) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:10:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:10:06) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:10:06) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:10:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.6ms)
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:10:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:10:06) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.5ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.5ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:13:11) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:13:11) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:13:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:13:11) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 14) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:13:11) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:13:11) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:13:11) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (2.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:13:11) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:13:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:13:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:13:12) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:13:12) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 61ms (DB: 6) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:13:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.8ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (3.1ms)
Filter chain halted as [#<Proc:0x0962268c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 28ms (View: 17, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x0962268c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.5ms)
Completed in 11ms (View: 9, DB: 3) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.0ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x0962268c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:13:12) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (1.9ms)
Filter chain halted as [#<Proc:0x0962268c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:13:12) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:13:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:13:12) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:13:12) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:13:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:13:12) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:13:12) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:13:12) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:13:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:13:12) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 1ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.2ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.3ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.7ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:14:06) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 13) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:14:06) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:14:06) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:14:06) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:14:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.3ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:14:06) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:14:06) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 60ms (DB: 5) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:14:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.5ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.7ms)
Filter chain halted as [#<Proc:0x09331734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 27ms (View: 16, DB: 6) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.0ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x09331734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.0ms)
Completed in 10ms (View: 8, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x09331734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:14:06) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (5.9ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (1.9ms)
Filter chain halted as [#<Proc:0x09331734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:14:06) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:14:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:14:06) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:14:06) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:14:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:14:06) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:14:06) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 5) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:14:06) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:14:06) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.5ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.2ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.5ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.2ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (1.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:14:39) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (5.2ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 14ms (DB: 15) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:14:39) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:14:39) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:14:39) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:14:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.4ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:14:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:14:39) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:14:39) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 19ms (DB: 7) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:14:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.4ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x097af734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 68ms (View: 14, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x097af734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.8ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (7.9ms)
Completed in 12ms (View: 10, DB: 3) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.4ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x097af734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:14:40) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (1.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.4ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x097af734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 8, DB: 5) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:14:40) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:14:40) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:14:40) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:14:40) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:14:40) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:14:40) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:14:40) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 7) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:14:40) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.9ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 5) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.2ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:14:40) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.4ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:15:27) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 8) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:15:27) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:15:27) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:15:27) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:15:27) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:15:27) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:15:27) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 17ms (DB: 5) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:15:27) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (13.0ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x0ab5c69c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 69ms (View: 14, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x0ab5c69c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.5ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (1.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.0ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x0ab5c69c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 4) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:15:27) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.3ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0ab5c69c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:15:27) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:15:27) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:15:27) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:15:27) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:15:27) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:15:27) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:15:27) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:15:27) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.2ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:15:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:15:27) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (1.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.2ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (1.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.2ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.2ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:16:14) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 13ms (DB: 14) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:16:14) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (2.5ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 5ms (View: 0, DB: 4) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:16:14) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:16:14) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:16:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.5ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.4ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:16:14) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:16:14) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 63ms (DB: 7) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.8ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:16:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.8ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (14.1ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0ad1d710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 29ms (View: 15, DB: 9) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.7ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.5ms)
Filter chain halted as [#<Proc:0x0ad1d710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 17ms (View: 9, DB: 5) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.5ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (7.7ms)
Completed in 12ms (View: 9, DB: 3) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (1.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.8ms)
Filter chain halted as [#<Proc:0x0ad1d710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 17ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:16:14) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.9ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.5ms)
Filter chain halted as [#<Proc:0x0ad1d710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (2.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:16:14) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:16:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:16:14) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:16:14) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:16:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:16:14) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:16:14) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 9) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:16:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.4ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  [4;35;1mTemplateSchema Load (0.5ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:16:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (1.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:16:14) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.0ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:17:51) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 11) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:17:51) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#edit (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.1ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.4ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:17:51) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.3ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:17:51) [POST]
  Parameters: {"document"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:17:51) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mDocument::Version Delete all (0.2ms)[0m   [0;1mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;35;1mDocument Destroy (0.2ms)[0m   [0mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:17:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:17:51) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mDocument::Version Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `document_versions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:17:51) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProject Create (0.2ms)[0m   [0mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;35;1mPermission Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 65ms (DB: 6) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.4ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:17:51) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mpeople_roles Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.7ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (13.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.8ms)
Filter chain halted as [#<Proc:0x0a3bc734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 29ms (View: 16, DB: 6) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (50.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.3ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.9ms)
Filter chain halted as [#<Proc:0x0a3bc734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 18ms (View: 11, DB: 53) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (8.4ms)
Completed in 13ms (View: 11, DB: 2) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.9ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.8ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (3.1ms)
Filter chain halted as [#<Proc:0x0a3bc734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 19ms (View: 11, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:17:52) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.1ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (3.6ms)
Filter chain halted as [#<Proc:0x0a3bc734@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 18ms (View: 12, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:17:52) [POST]
  Parameters: {"structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:17:52) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:17:52) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:17:52) [POST]
  Parameters: {"structure"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:17:52) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:17:52) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:17:52) [POST]
  Parameters: {"template_schema"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTemplateSchema Create (0.2ms)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 10) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:17:52) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.5ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.1ms)[0m   [0mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:17:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:17:52) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.3ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.8ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.3ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:18:13) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.9ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 10ms (DB: 15) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:18:13) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:18:13) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:18:13) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:18:13) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update (for 0.0.0.0 at 2009-04-14 13:18:13) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.3ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:18:13) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:18:13) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.3ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:18:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:18:13) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:18:14) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:18:14) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.5ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 63ms (DB: 7) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:18:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.8ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (14.2ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.4ms)
Filter chain halted as [#<Proc:0x0b065710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 29ms (View: 15, DB: 7) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.9ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (3.4ms)
Filter chain halted as [#<Proc:0x0b065710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 10, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (7.1ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.8ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.7ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.7ms)
Filter chain halted as [#<Proc:0x0b065710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:18:14) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0b065710@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:18:14) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:18:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:18:14) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:18:14) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:18:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:18:14) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:18:14) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 6) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:18:14) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.8ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.4ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 4) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:18:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:18:14) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.6ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:19:10) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.5ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 11ms (DB: 12) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:19:10) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.3ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 13:19:10) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:19:10) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:19:10) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.3ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
  [4;35;1mDocument Load (0.3ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:19:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:19:10) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:19:10) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 66ms (DB: 7) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:19:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (14.1ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0ae4569c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 28ms (View: 14, DB: 8) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.3ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.3ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0ae4569c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.3ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.9ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.4ms)
Filter chain halted as [#<Proc:0x0ae4569c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:19:11) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.3ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.7ms)
Filter chain halted as [#<Proc:0x0ae4569c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:19:11) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:19:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:19:11) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:19:11) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:19:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:19:11) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:19:11) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 5) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:19:11) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.2ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:19:11) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (5.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.2ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.2ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.4ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:22:03) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.4ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 26) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:22:03) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.1ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 13:22:03) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:22:03) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:22:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:22:03) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:22:03) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 64ms (DB: 7) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:22:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.5ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (13.9ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x0b0726f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 28ms (View: 15, DB: 8) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.5ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.5ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x0b0726f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 5) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.9ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.8ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.5ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0b0726f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:22:03) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x0b0726f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:22:03) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:22:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:22:03) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:22:03) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:22:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:22:03) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:22:03) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 9) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:22:03) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:22:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:22:03) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.2ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.3ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 13:28:39) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 11) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 13:28:39) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 13:28:39) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 13:28:39) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 13:28:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
Rendering template within layouts/application
Rendering documents/new
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 13:28:39) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 13:28:39) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 60ms (DB: 5) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 13:28:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.6ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0b2576f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 25ms (View: 14, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.3ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0b2576f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.2ms)
Completed in 10ms (View: 9, DB: 3) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (1.9ms)
Filter chain halted as [#<Proc:0x0b2576f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 13:28:39) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0b2576f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 13:28:39) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 13:28:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 13:28:39) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 13:28:39) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 13:28:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 13:28:39) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 13:28:39) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 13:28:39) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.2ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 13:28:39) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.3ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.2ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.4ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.2ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.2ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.2ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.7ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.2ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 14:23:46) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 10) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 14:23:46) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 14:23:46) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 14:23:46) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.1ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 14:23:46) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 14:23:46) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 14:23:46) [POST]
  Parameters: {"document"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 14:23:46) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 14:23:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 14:23:47) [PUT]
  Parameters: {"id"=>"1", "document"=>{}}
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 14:23:47) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProject Create (0.1ms)[0m   [0mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;35;1mPermission Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 17ms (DB: 9) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 14:23:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mpeople_roles Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.5ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0ae1a6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 25ms (View: 14, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (5.9ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0ae1a6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.5ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x0ae1a6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 58ms (View: 52, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 14:23:47) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.4ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0ae1a6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 14:23:47) [POST]
  Parameters: {"structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 14:23:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 14:23:47) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 14:23:47) [POST]
  Parameters: {"structure"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 14:23:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 14:23:47) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 14:23:47) [POST]
  Parameters: {"template_schema"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTemplateSchema Create (0.1ms)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 14:23:47) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.1ms)[0m   [0mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.2ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.2ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 14:23:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 14:23:47) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 1ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.9ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.5ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.7ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.7ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.2ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.2ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.2ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.3ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 15:12:49) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 18) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 15:12:49) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 15:12:49) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 15:12:49) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 15:12:49) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 15:12:49) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mPerson Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `people`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 15:12:49) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProject Create (0.2ms)[0m   [0mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;35;1mPermission Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permissions`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 19ms (DB: 9) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` LIMIT 1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 15:12:49) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mpeople_roles Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `people_roles`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.8ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (14.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0947369c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 28ms (View: 15, DB: 7) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 15:12:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.7ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.5ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0947369c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 8, DB: 10) | 200 OK [http://test.host/projects/1/edit]
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 15:12:49) [GET]
  [4;35;1mProject Load (1.0ms)[0m   [0mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.9ms)
Completed in 12ms (View: 9, DB: 3) | 200 OK [http://test.host/projects]
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.9ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.4ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (51.3ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0947369c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 59ms (View: 52, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 15:12:50) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.7ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.7ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0947369c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 16ms (View: 9, DB: 5) | 200 OK [http://test.host/projects/1?]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 15:12:50) [POST]
  Parameters: {"structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 15:12:50) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 15:12:50) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 15:12:50) [POST]
  Parameters: {"structure"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 15:12:50) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 15:12:50) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 15:12:50) [POST]
  Parameters: {"template_schema"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mTemplateSchema Create (0.2ms)[0m   [0;1mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 6) | 302 Found [http://test.host/template_schemas?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 15:12:50) [DELETE]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.6ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.2ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.3ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.2ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mTemplateSchema Destroy (0.1ms)[0m   [0mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 4) | 302 Found [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 15:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 15:12:50) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.0ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 15:13:23) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.3ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.2ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 10ms (DB: 21) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 15:13:23) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 15:13:23) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 15:13:23) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.9ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.3ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 15:13:23) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.3ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 15:13:23) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 15:13:23) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 15:13:24) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 2ms (DB: 5) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 2) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (1.3ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 15:13:24) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 15:13:24) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 19ms (DB: 5) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (1.5ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 15:13:24) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.8ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.4ms)
Filter chain halted as [#<Proc:0x0ac9269c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 26ms (View: 14, DB: 7) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.3ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0ac9269c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 60ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (8.4ms)
Completed in 13ms (View: 10, DB: 3) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.4ms)
Filter chain halted as [#<Proc:0x0ac9269c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 15:13:24) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0ac9269c@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 15:13:24) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 15:13:24) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 15:13:24) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 15:13:24) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 15:13:24) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 15:13:24) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 15:13:24) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 6) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 15:13:24) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 15:13:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 15:13:24) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.5ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 15:15:07) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 16) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 15:15:07) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 15:15:07) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 15:15:07) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.3ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 15:15:08) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 15:15:08) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 15:15:08) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 2ms (DB: 5) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.5ms)
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.0ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.5ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 15:15:08) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.0ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 15:15:08) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 18ms (DB: 4) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 15:15:08) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.5ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0956f6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 25ms (View: 14, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0956f6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 57ms (View: 51, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.8ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.7ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x0956f6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 15:15:08) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0956f6f4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 15:15:08) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 15:15:08) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 15:15:08) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 15:15:08) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 15:15:08) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 15:15:08) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 15:15:08) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 15:15:08) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.2ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.2ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 15:15:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 15:15:08) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 1ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (7.5ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.3ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.2ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.6ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (1.3ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.2ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.3ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.3ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 17:37:26) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 12) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 17:37:26) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.5ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 5ms (DB: 3) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 17:37:26) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.5ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 17:37:26) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (1.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 17:37:26) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 2ms (DB: 7) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (1.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 2, DB: 2) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 17:37:26) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (1.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 17:37:26) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 18ms (DB: 7) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 17:37:26) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.8ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0add2278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 26ms (View: 14, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (1.4ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (54.7ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.5ms)
Filter chain halted as [#<Proc:0x0add2278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 63ms (View: 55, DB: 5) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (7.0ms)
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.8ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.4ms)
Filter chain halted as [#<Proc:0x0add2278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 17:37:26) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.6ms)
Filter chain halted as [#<Proc:0x0add2278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 17ms (View: 9, DB: 4) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 17:37:26) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 17:37:26) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 17:37:26) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 17:37:26) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 17:37:26) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 17:37:26) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 17:37:26) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 6) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 17:37:26) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.3ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 4) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 17:37:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.5ms)
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 17:37:26) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.3ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.2ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.3ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.2ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.4ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.5ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.3ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 17:38:33) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 12ms (DB: 17) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 17:38:33) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.4ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.4ms)
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 17:38:33) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 5ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.7ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 17:38:33) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 17:38:33) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 5ms (DB: 5) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 5ms (View: 4, DB: 1) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.4ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.9ms)
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.5ms)
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 17:38:33) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.0ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 17:38:33) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 19ms (DB: 4) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 17:38:33) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.5ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.7ms)
Filter chain halted as [#<Proc:0x0af8c078@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 27ms (View: 14, DB: 6) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.5ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (52.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.7ms)
Filter chain halted as [#<Proc:0x0af8c078@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 60ms (View: 54, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (7.0ms)
Completed in 11ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.5ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.0ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.5ms)
Filter chain halted as [#<Proc:0x0af8c078@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 17:38:33) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.4ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x0af8c078@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 17:38:33) [POST]
  Parameters: {"structure_template"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 17:38:33) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 17:38:33) [PUT]
  Parameters: {"id"=>"1", "structure_template"=>{}}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 17:38:33) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 17:38:33) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 17:38:33) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 17:38:33) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 5) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 17:38:33) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 17:38:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.5ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 17:38:33) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.0ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.1ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 17:39:58) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (3.9ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.8ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 14ms (DB: 18) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 17:39:58) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 17:39:58) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 17:39:58) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 17:39:58) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 2ms (DB: 7) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 2) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 17:39:58) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 17:39:58) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 19ms (DB: 5) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 17:39:58) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.7ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (15.2ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.9ms)
Filter chain halted as [#<Proc:0x09f0d314@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 31ms (View: 16, DB: 10) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.8ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.7ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (2.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.9ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (57.6ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (1.0ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (3.3ms)
Filter chain halted as [#<Proc:0x09f0d314@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 68ms (View: 55, DB: 11) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  [4;36;1mProject Load (0.3ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.4ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.6ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (8.6ms)
Completed in 14ms (View: 10, DB: 4) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (1.4ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.5ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.8ms)
Filter chain halted as [#<Proc:0x09f0d314@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 17ms (View: 11, DB: 3) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 17:39:58) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.3ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.4ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.4ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.8ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.5ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.9ms)
Filter chain halted as [#<Proc:0x09f0d314@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 17ms (View: 10, DB: 4) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 17:39:58) [POST]
  Parameters: {"template_schema_id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, 1, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/6
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 17:39:58) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.6ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.3ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 7ms (DB: 3) | 302 Found [http://test.host/template_schemas/1/structure_templates/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#edit (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.5ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/new
Rendered auth/_mini_auth_form (0.5ms)
Completed in 4ms (View: 2, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/show
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` WHERE (`attrs`.structure_template_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 17:39:58) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template"=>{}}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 3ms (DB: 0) | 302 Found [http://test.host/template_schemas/1/structure_templates/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 17:39:58) [POST]
  Parameters: {"structure"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 17:39:58) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#edit (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 17:39:58) [PUT]
  Parameters: {"structure"=>{}, "id"=>"1"}
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 17:39:58) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 4) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 17:39:58) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.0ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.5ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 8ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 17:39:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 8ms (View: 6, DB: 2) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 17:39:58) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (1.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.2ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.3ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.6ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.5ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (8948.8ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.8ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.4ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.4ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.3ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.4ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.3ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.4ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.4ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.5ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.4ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.3ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.4ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.3ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.3ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.3ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (9228.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.5ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.4ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (13899.6ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.4ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.3ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.4ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.3ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.7ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.3ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.4ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.3ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.3ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.3ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.3ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (8222.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 17:42:12) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 10ms (DB: 12) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 17:42:12) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 17:42:12) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.6ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 4ms (View: 0, DB: 3) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.3ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 17:42:12) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.3ms)
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 17:42:12) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.3ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.3ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 17:42:12) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.4ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.4ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 17:42:13) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 17:42:13) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.5ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.5ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.3ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 9ms (DB: 528) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (4278.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 17:42:17) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.5ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (2.1ms)
Completed in 12ms (View: 9, DB: 4280) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 17:42:17) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.4ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (1.2ms)
Completed in 14ms (View: 9, DB: 1) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 17:42:17) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 17:42:17) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (1.2ms)
Completed in 9ms (View: 6, DB: 1) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 17:42:17) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 17:42:17) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.3ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.7ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.5ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.3ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 53ms (DB: 10) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (3817.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.3ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.3ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.3ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.3ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 17:42:21) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.4ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.5ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.4ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.4ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.5ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.4ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.2ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.4ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.3ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (39.1ms)
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.5ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (7.1ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 78ms (View: 44, DB: 3831) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (5164.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 17:42:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.4ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.4ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.4ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.6ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (141.4ms)
  [4;36;1mPerson Load (0.3ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.8ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (6.5ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 164ms (View: 147, DB: 5172) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (2.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  [4;36;1mProject Load (0.4ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.5ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.3ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.4ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.3ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (19.1ms)
Completed in 33ms (View: 27, DB: 7) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.4ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.7ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.5ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (18.7ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.5ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (6.3ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 41ms (View: 24, DB: 8) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 17:42:27) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.8ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.4ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.2ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (6.6ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.2ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.7ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.4ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.4ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.2ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (26.5ms)
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.8ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.6ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (6.6ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 49ms (View: 26, DB: 15) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 17:42:27) [POST]
  Parameters: {"template_schema_id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.4ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/6
Completed in 11ms (DB: 3) | 302 Found [http://test.host/template_schemas/1/structure_templates?]
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 17:42:27) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.3ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.4ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.3ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.4ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.3ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.4ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.3ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.3ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.3ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 16ms (DB: 6) | 302 Found [http://test.host/template_schemas/1/structure_templates/1]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.4ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
Completed in 6ms (View: 1, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 9ms (View: 7, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/new]
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.4ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/show
  [4;35;1mAttr Load (0.5ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mTextField Load (0.3ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` WHERE (`attrs`.structure_template_id = 1) [0m
Rendered auth/_mini_auth_form (1.2ms)
Completed in 17ms (View: 12, DB: 2) | 200 OK [http://test.host/template_schemas/1/structure_templates/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 17:42:27) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 6ms (DB: 1) | 302 Found [http://test.host/template_schemas/1/structure_templates/1?]
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 17:42:27) [POST]
  Parameters: {"project_id"=>"1", "structure"=>{}}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 17:42:27) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (3.9ms)
Rendered auth/_mini_auth_form (1.1ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 10ms (View: 9, DB: 6) | 200 OK [http://test.host/projects/1/structures/1]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"project_id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mStructure Load (0.4ms)[0m   [0mSELECT * FROM `structures` [0m
Rendering template within layouts/application
Rendering structures/index
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"project_id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (1.0ms)
Rendered auth/_mini_auth_form (0.4ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/structures/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 17:42:27) [PUT]
  Parameters: {"project_id"=>"1", "structure"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.9ms)
Rendered auth/_mini_auth_form (0.4ms)
Filter chain halted as [#<Proc:0x0a7962c4@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/structures/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 17:42:27) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 1) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 17:42:27) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 17:42:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.5ms)
Completed in 9ms (View: 5, DB: 3) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 17:42:27) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.1ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.2ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.4ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.3ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.2ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.2ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.4ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.1ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.2ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.2ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.2ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.2ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 17:43:20) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (2.4ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.1ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.1ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 11ms (DB: 15) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 17:43:20) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.2ms)
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.0ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 17:43:20) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 3ms (View: 0, DB: 1) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 17:43:20) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 17:43:20) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.2ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.1ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 2ms (DB: 5) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.1ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.0ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 17:43:20) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 17:43:20) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.1ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 18ms (DB: 4) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.5ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 17:43:20) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (12.0ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.1ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 25ms (View: 13, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 17:43:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.0ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (49.9ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 58ms (View: 52, DB: 3) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (8.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (6.6ms)
Completed in 11ms (View: 9, DB: 10) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.2ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.2ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 14ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 17:43:21) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.0ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.0ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.0ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (6.0ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.0ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.0ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.0ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 13ms (View: 8, DB: 2) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 17:43:21) [POST]
  Parameters: {"template_schema_id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, 1, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/6
Completed in 4ms (DB: 1) | 302 Found [http://test.host/template_schemas/1/structure_templates?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 17:43:21) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (0.1ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.2ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/new
Rendered auth/_mini_auth_form (0.6ms)
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.0ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/show
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` WHERE (`attrs`.structure_template_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 17:43:21) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1/structure_templates/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 17:43:21) [POST]
  Parameters: {"project_id"=>"1", "structure"=>{}}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 17:43:21) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (1.3ms)
Rendered auth/_mini_auth_form (0.3ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 3) | 200 OK [http://test.host/projects/1/structures/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"project_id"=>"1"}
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` [0m
Rendering template within layouts/application
Rendering structures/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/structures]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"project_id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.0ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.9ms)
Rendered auth/_mini_auth_form (0.4ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/structures/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 17:43:21) [PUT]
  Parameters: {"project_id"=>"1", "structure"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.0ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (0.9ms)
Rendered auth/_mini_auth_form (0.4ms)
Filter chain halted as [#<Proc:0x09e37278@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/structures/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 17:43:21) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.1ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 1) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 17:43:21) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.1ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.0ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.0ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.1ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 6ms (DB: 2) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#edit (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.2ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 17:43:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.5ms)
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 17:43:21) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 1ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structure_templates`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` IS NULL AND `attrs`.structure_template_id IS NULL) LIMIT 1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, NULL, NULL)[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mAttr Create (0.2ms)[0m   [0mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES(NULL, NULL, 1, 2, 1, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mStructure Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `structures`[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mAttr Exists (0.2ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`id` = 2) AND ((`attr_value_metadatas`.structure_id = NULL)) LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.0ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.0ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.2ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(1, 1, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Carrot', NULL, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.1ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Vegetable', NULL, NULL)[0m
  [4;35;1mStructureTemplate Create (0.1ms)[0m   [0mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES('Lettuce', NULL, 4)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 5) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 4) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 4) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1 AND (required = 1)) [0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`name` = 'Name') AND (`attrs`.structure_template_id = 1) ORDER BY position LIMIT 1[0m
Template attr Name does not exist for structure 3; autocreating
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextValue Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `text_values`[0m
  [4;36;1mTextValue Create (0.1ms)[0m   [0;1mINSERT INTO `text_values` (`value`) VALUES(NULL)[0m
  [4;35;1mAttrValueMetadata Exists (0.1ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mAttrValueMetadata Create (0.1ms)[0m   [0;1mINSERT INTO `attr_value_metadatas` (`structure_id`, `value_type`, `attr_id`, `value_id`) VALUES(3, 'TextValue', 1, 1)[0m
  [4;35;1mTextValue Load (0.2ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Name has id 1
  [4;35;1mAttrValueMetadata Load (0.2ms)[0m   [0mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.value_id = 1 AND `attr_value_metadatas`.value_type = 'TextValue') LIMIT 1[0m
  [4;35;1mAttrValueMetadata Exists (0.2ms)[0m   [0mSELECT `attr_value_metadatas`.id FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1 AND `attr_value_metadatas`.structure_id = 3 AND `attr_value_metadatas`.id <> 3) LIMIT 1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mTextValue Load (0.1ms)[0m   [0;1mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;35;1mTextField Load (0.0ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextValue Update (0.1ms)[0m   [0;1mUPDATE `text_values` SET `value` = 'Bob' WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 3) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT `attrs`.* FROM `attrs` INNER JOIN `attr_value_metadatas` ON `attrs`.id = `attr_value_metadatas`.attr_id WHERE (`attrs`.`name` = 'Name') AND ((`attr_value_metadatas`.structure_id = 3)) LIMIT 1[0m
Name has id 1
  [4;36;1mAttrValueMetadata Load (0.1ms)[0m   [0;1mSELECT * FROM `attr_value_metadatas` WHERE (`attr_value_metadatas`.`attr_id` = 1) AND (`attr_value_metadatas`.structure_id = 3) LIMIT 1[0m
  [4;35;1mTextValue Load (0.1ms)[0m   [0mSELECT * FROM `text_values` WHERE (`text_values`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2 AND (required = 1)) [0m
  [4;35;1mStructure Create (0.1ms)[0m   [0mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructure Create (0.1ms)[0m   [0;1mINSERT INTO `structures` (`project_id`, `structure_template_id`) VALUES(NULL, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRelationship Create (0.1ms)[0m   [0;1mINSERT INTO `relationships` (`relationship_type_id`, `left_id`, `right_id`) VALUES(2, 4, 5)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 4) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 4) [0m
  [4;36;1mRelationshipType Load (0.0ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;35;1mRelationship Load (0.1ms)[0m   [0mSELECT * FROM `relationships` WHERE (`relationships`.left_id = 5) [0m
  [4;36;1mRelationship Load (0.1ms)[0m   [0;1mSELECT * FROM `relationships` WHERE (`relationships`.right_id = 5) [0m
  [4;35;1mRelationshipType Load (0.0ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.`id` = 2) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mStructure Load (0.1ms)[0m   [0mSELECT * FROM `structures` WHERE (`structures`.`id` = 5) [0m
  [4;36;1mStructure Load (0.1ms)[0m   [0;1mSELECT * FROM `structures` WHERE (`structures`.`id` = 4) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPermissionCache Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `permission_caches`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `permission_caches` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (5.0ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#create (for 0.0.0.0 at 2009-04-14 17:44:10) [POST]
  Parameters: {"template_schema_id"=>"1", "config_class"=>"TextField", "structure_template_id"=>"1", "attr"=>{"name"=>"test"}}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTextField Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `text_fields`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Exists (0.2ms)[0m   [0mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'test' AND `attrs`.structure_template_id = 1) LIMIT 1[0m
  [4;36;1mTextField Create (0.2ms)[0m   [0;1mINSERT INTO `text_fields` (`default`) VALUES(NULL)[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (structure_template_id = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mAttr Create (0.2ms)[0m   [0;1mINSERT INTO `attrs` (`name`, `attr_configuration_id`, `structure_template_id`, `position`, `required`, `attr_configuration_type`) VALUES('test', 2, 1, 2, NULL, 'TextField')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 9ms (DB: 20) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs?attr%5Bname%5D=test&config_class=TextField]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#destroy (for 0.0.0.0 at 2009-04-14 17:44:10) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.2ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.2ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#index (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
Completed in 3ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#new (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"template_schema_id"=>"1", "structure_template_id"=>"1"}
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering attrs/new
Rendered auth/_mini_auth_form (1.3ms)
Completed in 7ms (View: 6, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#show (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1"}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1/attrs/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttr Load (0.1ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing AttrsController#update to xml (for 0.0.0.0 at 2009-04-14 17:44:10) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template_id"=>"1", "attr"=>{"name"=>"SomethingElse"}}
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mAttr Exists (0.3ms)[0m   [0;1mSELECT `attrs`.id FROM `attrs` WHERE (`attrs`.`name` = BINARY 'SomethingElse' AND `attrs`.structure_template_id = 1 AND `attrs`.id <> 1) LIMIT 1[0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `name` = 'SomethingElse' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Completed in 4ms (View: 0, DB: 2) | 406 Not Acceptable [http://test.host/template_schemas/1/structure_templates/1/attrs/1.xml?attr%5Bname%5D=SomethingElse]
  [4;35;1mSQL (2.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#create (for 0.0.0.0 at 2009-04-14 17:44:10) [POST]
  Parameters: {"project_id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m


Processing DocumentsController#destroy (for 0.0.0.0 at 2009-04-14 17:44:10) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.2ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Delete all (0.3ms)[0m   [0mDELETE FROM `document_versions` WHERE ((document_id = 1)) [0m
  [4;36;1mDocument Destroy (0.2ms)[0m   [0;1mDELETE FROM `documents` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/1/documents
Completed in 3ms (DB: 8) | 302 Found [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `documents` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#edit (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.2ms)[0m   [0;1mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/edit
Rendered auth/_mini_auth_form (0.4ms)
Completed in 4ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/documents/1/edit]
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#index (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mDocument Load (0.9ms)[0m   [0;1mSELECT * FROM `documents` [0m
Rendering template within layouts/application
Rendering documents/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 5ms (View: 3, DB: 2) | 200 OK [http://test.host/projects/1/documents]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#new (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/new
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/projects/1/documents/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#show (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
Rendering template within layouts/application
Rendering documents/show
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 1) | 200 OK [http://test.host/projects/1/documents/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing DocumentsController#update (for 0.0.0.0 at 2009-04-14 17:44:10) [PUT]
  Parameters: {"project_id"=>"1", "id"=>"1", "document"=>{}}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mDocument Load (0.1ms)[0m   [0mSELECT * FROM `documents` WHERE (`documents`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mDocument::Version Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `document_versions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max(`document_versions`.version) AS max_version FROM `document_versions` WHERE (`document_versions`.document_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK TO SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mPerson Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `people`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing ProjectsController#create (for 0.0.0.0 at 2009-04-14 17:44:10) [POST]
  Parameters: {"project"=>{"template_schema_id"=>1}}
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProject Create (0.2ms)[0m   [0;1mINSERT INTO `projects` (`name`, `template_schema_id`) VALUES(NULL, 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'view') [0m
  [4;36;1mPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `permissions`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.2ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'view', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'edit') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'edit', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 3 and permission_name = 'change_permissions') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermission Create (0.1ms)[0m   [0;1mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 3, NULL, 'change_permissions', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/projects/3
Completed in 18ms (DB: 5) | 302 Found [http://test.host/projects?project%5Btemplate_schema_id%5D=1]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` LIMIT 1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'view') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.2ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'view', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'edit') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (person_id = 2 and permissioned_type = 'Project' and permissioned_id = 1 and permission_name = 'change_permissions') [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermission Create (0.1ms)[0m   [0mINSERT INTO `permissions` (`permissioned_type`, `permissioned_id`, `role_id`, `permission`, `person_id`) VALUES('Project', 1, NULL, 'change_permissions', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m


Processing ProjectsController#destroy (for 0.0.0.0 at 2009-04-14 17:44:10) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'destroy')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mpeople_roles Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `people_roles`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mRole Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'destroy', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.2ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (14.0ms)
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 29ms (View: 15, DB: 7) | 200 OK [http://test.host/projects/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `projects` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#edit (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.7ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.2ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.3ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (52.1ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.7ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 61ms (View: 54, DB: 4) | 200 OK [http://test.host/projects/1/edit]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#index (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  [4;36;1mProject Load (0.2ms)[0m   [0;1mSELECT * FROM `projects` [0m
Rendering template within layouts/application
Rendering projects/index
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.4ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.1ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_mini_auth_form (7.4ms)
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://test.host/projects]
  [4;35;1mSQL (1.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#show (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'show')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'show', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.5ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.4ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.3ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.5ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (8.5ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.3ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 17ms (View: 9, DB: 5) | 200 OK [http://test.host/projects/1]
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` LIMIT 1[0m


Processing ProjectsController#update (for 0.0.0.0 at 2009-04-14 17:44:10) [PUT]
  Parameters: {"project"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPermissionCache Load (0.3ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id = 1 and permissioned_type = 'Project' and permission_name = 'edit')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mPermissionCache Create (0.2ms)[0m   [0mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES('Project', 0, 1, 'edit', 2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
Rendering template within layouts/application
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.2ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermission Load (0.2ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `people_roles` ON `roles`.id = `people_roles`.role_id WHERE (`people_roles`.person_id = 2 ) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.2ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_projects', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
  [4;35;1mPermission Load (0.1ms)[0m   [0mSELECT * FROM `permissions` WHERE (`permissions`.person_id = 2) [0m
  [4;36;1mPermission Load (0.1ms)[0m   [0;1mSELECT * FROM `permissions` WHERE (`permissions`.role_id = 1) [0m
Permission check result: false
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mPermissionCache Create (0.1ms)[0m   [0;1mINSERT INTO `permission_caches` (`permissioned_type`, `result`, `permissioned_id`, `permission_name`, `person_id`) VALUES(NULL, 0, NULL, 'change_permissions_roles', 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Rendered auth/_auth_form (7.0ms)
  [4;36;1mPerson Load (0.1ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPerson Load (0.1ms)[0m   [0mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;36;1mPerson Load (0.2ms)[0m   [0;1mSELECT * FROM `people` WHERE (`people`.`id` = 2) [0m
  [4;35;1mPermissionCache Load (0.3ms)[0m   [0mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_projects')) LIMIT 1[0m
  [4;36;1mPermissionCache Load (0.2ms)[0m   [0;1mSELECT * FROM `permission_caches` WHERE (`permission_caches`.person_id = 2 AND (permissioned_id is null and permissioned_type is null and permission_name = 'change_permissions_roles')) LIMIT 1[0m
Rendered auth/_mini_auth_form (2.5ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 15ms (View: 9, DB: 3) | 200 OK [http://test.host/projects/1?]
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#create (for 0.0.0.0 at 2009-04-14 17:44:10) [POST]
  Parameters: {"template_schema_id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mStructureTemplate Create (0.2ms)[0m   [0;1mINSERT INTO `structure_templates` (`name`, `template_schema_id`, `parent_id`) VALUES(NULL, 1, NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/6
Completed in 4ms (DB: 2) | 302 Found [http://test.host/template_schemas/1/structure_templates?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;35;1mSQL (0.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `structure_templates` [0m


Processing StructureTemplatesController#destroy (for 0.0.0.0 at 2009-04-14 17:44:10) [DELETE]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mAttr Update (0.1ms)[0m   [0;1mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;35;1mAttr Update (0.2ms)[0m   [0mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;36;1mAttr Destroy (1.4ms)[0m   [0;1mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;35;1mTextField Load (0.2ms)[0m   [0mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;36;1mTextField Destroy (0.1ms)[0m   [0;1mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;35;1mStructureTemplate Destroy (0.4ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 8ms (DB: 4) | 302 Found [http://test.host/template_schemas/1/structure_templates/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#index (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.2ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
Completed in 2ms (View: 0, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#new (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"template_schema_id"=>"1"}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/new
Rendered auth/_mini_auth_form (0.4ms)
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/1/structure_templates/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#show (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"template_schema_id"=>"1", "id"=>"1"}
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
Rendering template within layouts/application
Rendering structure_templates/show
  [4;35;1mAttr Load (0.2ms)[0m   [0mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attrs` WHERE (`attrs`.structure_template_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 7ms (View: 5, DB: 1) | 200 OK [http://test.host/template_schemas/1/structure_templates/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m


Processing StructureTemplatesController#update (for 0.0.0.0 at 2009-04-14 17:44:10) [PUT]
  Parameters: {"template_schema_id"=>"1", "id"=>"1", "structure_template"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mTemplateSchema Load (0.1ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1/structure_templates/1
Completed in 2ms (DB: 1) | 302 Found [http://test.host/template_schemas/1/structure_templates/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#create (for 0.0.0.0 at 2009-04-14 17:44:10) [POST]
  Parameters: {"project_id"=>"1", "structure"=>{}}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m


Processing StructuresController#destroy (for 0.0.0.0 at 2009-04-14 17:44:10) [DELETE]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (1.4ms)
Rendered auth/_mini_auth_form (0.6ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 4ms (View: 3, DB: 3) | 200 OK [http://test.host/projects/1/structures/1]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structures` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#index (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1"}
  [4;35;1mProject Load (0.6ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mStructure Load (0.2ms)[0m   [0mSELECT * FROM `structures` [0m
Rendering template within layouts/application
Rendering structures/index
Rendered auth/_mini_auth_form (0.4ms)
Completed in 5ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/structures]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#new (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1"}
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#show (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (1.0ms)
Rendered auth/_mini_auth_form (0.4ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 1) | 200 OK [http://test.host/projects/1/structures/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProject Load (0.1ms)[0m   [0mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m


Processing StructuresController#update (for 0.0.0.0 at 2009-04-14 17:44:10) [PUT]
  Parameters: {"project_id"=>"1", "structure"=>{}, "id"=>"1"}
  [4;36;1mProject Load (0.1ms)[0m   [0;1mSELECT * FROM `projects` WHERE (`projects`.`id` = 1) [0m
Rendering template within layouts/application
Rendered auth/_auth_form (1.2ms)
Rendered auth/_mini_auth_form (0.4ms)
Filter chain halted as [#<Proc:0x0b0bc678@/home/nbudin/code/vellum/vendor/plugins/ae_users/lib/ae_users.rb:388>] rendered_or_redirected.
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://test.host/projects/1/structures/1?]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#create (for 0.0.0.0 at 2009-04-14 17:44:10) [POST]
  Parameters: {"template_schema"=>{}}
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mTemplateSchema Create (0.2ms)[0m   [0mINSERT INTO `template_schemas` (`name`, `description`) VALUES(NULL, NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/3
Completed in 3ms (DB: 1) | 302 Found [http://test.host/template_schemas?]
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m


Processing TemplateSchemasController#destroy (for 0.0.0.0 at 2009-04-14 17:44:10) [DELETE]
  Parameters: {"id"=>"1"}
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.2ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 1) [0m
  [4;35;1mStructureTemplate Load (0.1ms)[0m   [0mSELECT * FROM `structure_templates` WHERE (`structure_templates`.parent_id = 2) [0m
  [4;36;1mAttr Load (0.2ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 2) ORDER BY position[0m
  [4;35;1mStructureTemplate Destroy (0.2ms)[0m   [0mDELETE FROM `structure_templates` WHERE `id` = 2[0m
  [4;36;1mAttr Load (0.1ms)[0m   [0;1mSELECT * FROM `attrs` WHERE (`attrs`.structure_template_id = 1) ORDER BY position[0m
  [4;35;1mAttr Update (0.1ms)[0m   [0mUPDATE `attrs` SET position = (position - 1) WHERE (structure_template_id = 1 AND position > 1) [0m
  [4;36;1mAttr Update (0.4ms)[0m   [0;1mUPDATE `attrs` SET `position` = NULL WHERE `id` = 1[0m
  [4;35;1mAttr Destroy (0.1ms)[0m   [0mDELETE FROM `attrs` WHERE `id` = 1[0m
  [4;36;1mTextField Load (0.1ms)[0m   [0;1mSELECT * FROM `text_fields` WHERE (`text_fields`.`id` = 1) [0m
  [4;35;1mTextField Destroy (0.1ms)[0m   [0mDELETE FROM `text_fields` WHERE `id` = 1[0m
  [4;36;1mStructureTemplate Destroy (0.1ms)[0m   [0;1mDELETE FROM `structure_templates` WHERE `id` = 1[0m
  [4;35;1mRelationshipType Load (0.2ms)[0m   [0mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;36;1mTemplateSchema Destroy (0.1ms)[0m   [0;1mDELETE FROM `template_schemas` WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas
Completed in 7ms (DB: 3) | 302 Found [http://test.host/template_schemas/1]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `template_schemas` [0m
  [4;35;1mSQL (1.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#index (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  [4;35;1mTemplateSchema Load (0.2ms)[0m   [0mSELECT * FROM `template_schemas` [0m
Rendering template within layouts/application
Rendering template_schemas/index
Rendered auth/_mini_auth_form (0.3ms)
Completed in 3ms (View: 2, DB: 2) | 200 OK [http://test.host/template_schemas]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#new (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
Rendering template within layouts/application
Rendering template_schemas/new
Rendered auth/_mini_auth_form (0.3ms)
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://test.host/template_schemas/new]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m


Processing TemplateSchemasController#show (for 0.0.0.0 at 2009-04-14 17:44:10) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTemplateSchema Load (0.2ms)[0m   [0;1mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
Rendering template within layouts/application
Rendering template_schemas/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `projects` WHERE (`projects`.template_schema_id = 1) [0m
  [4;36;1mStructureTemplate Load (0.1ms)[0m   [0;1mSELECT * FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `structure_templates` WHERE (`structure_templates`.template_schema_id = 1) [0m
  [4;36;1mRelationshipType Load (0.1ms)[0m   [0;1mSELECT * FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
  [4;35;1mRelationshipType Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `relationship_types`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `relationship_types` WHERE (`relationship_types`.template_schema_id = 1) [0m
Rendered auth/_mini_auth_form (0.4ms)
Completed in 7ms (View: 5, DB: 2) | 200 OK [http://test.host/template_schemas/1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing TemplateSchemasController#update (for 0.0.0.0 at 2009-04-14 17:44:10) [PUT]
  Parameters: {"id"=>"1", "template_schema"=>{}}
  [4;35;1mTemplateSchema Load (0.1ms)[0m   [0mSELECT * FROM `template_schemas` WHERE (`template_schemas`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/template_schemas/1
Completed in 2ms (DB: 0) | 302 Found [http://test.host/template_schemas/1?]
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m
